<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Panzer: panzer::L2Projection Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Panzer<span id="projectnumber">&#160;Version of the Day</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacepanzer.html">panzer</a></li><li class="navelem"><a class="el" href="classpanzer_1_1L2Projection.html">L2Projection</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classpanzer_1_1L2Projection-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">panzer::L2Projection Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Unified set of tools for building objects for lumped and consistent L2 projects between bases.  
 <a href="classpanzer_1_1L2Projection.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="Panzer__L2Projection_8hpp_source.html">Panzer_L2Projection.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:adbdc01a01e981cecba1c5004fb0e1f8f" id="r_adbdc01a01e981cecba1c5004fb0e1f8f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpanzer_1_1L2Projection.html#adbdc01a01e981cecba1c5004fb0e1f8f">L2Projection</a> ()</td></tr>
<tr class="memdesc:adbdc01a01e981cecba1c5004fb0e1f8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <br /></td></tr>
<tr class="separator:adbdc01a01e981cecba1c5004fb0e1f8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af32d2dbc35eca5e99285a0ad33037805" id="r_af32d2dbc35eca5e99285a0ad33037805"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpanzer_1_1L2Projection.html#af32d2dbc35eca5e99285a0ad33037805">setup</a> (const <a class="el" href="classpanzer_1_1BasisDescriptor.html">panzer::BasisDescriptor</a> &amp;targetBasis, const <a class="el" href="classpanzer_1_1IntegrationDescriptor.html">panzer::IntegrationDescriptor</a> &amp;integrationDescriptor, const Teuchos::RCP&lt; const <a class="el" href="classTeuchos_1_1MpiComm.html">Teuchos::MpiComm</a>&lt; int &gt; &gt; &amp;comm, const Teuchos::RCP&lt; const <a class="el" href="classpanzer_1_1ConnManager.html">panzer::ConnManager</a> &gt; &amp;connManager, const std::vector&lt; std::string &gt; &amp;elementBlockNames, const Teuchos::RCP&lt; <a class="el" href="classpanzer_1_1WorksetContainer.html">panzer::WorksetContainer</a> &gt; worksetContainer=Teuchos::null)</td></tr>
<tr class="memdesc:af32d2dbc35eca5e99285a0ad33037805"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setup base objects for L2 Projections - requires target scalar basis and creates worksets if not supplied by user.  <br /></td></tr>
<tr class="separator:af32d2dbc35eca5e99285a0ad33037805"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05e18b69f77225b1352bea1bfe550014" id="r_a05e18b69f77225b1352bea1bfe550014"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpanzer_1_1L2Projection.html#a05e18b69f77225b1352bea1bfe550014">useBasisValues</a> (const std::map&lt; std::string, Teuchos::RCP&lt; <a class="el" href="classpanzer_1_1BasisValues2.html">panzer::BasisValues2</a>&lt; double &gt; &gt; &gt; &amp;map_eblock_to_bv)</td></tr>
<tr class="memdesc:a05e18b69f77225b1352bea1bfe550014"><td class="mdescLeft">&#160;</td><td class="mdescRight">Override using the <a class="el" href="classpanzer_1_1WorksetContainer.html" title="Class that provides access to worksets on each element block and side set.">panzer::WorksetContainer</a> and instead use the registered BasisValues object.  <br /></td></tr>
<tr class="separator:a05e18b69f77225b1352bea1bfe550014"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a698e55d407420ba10a24f482d0d83948" id="r_a698e55d407420ba10a24f482d0d83948"><td class="memItemLeft" align="right" valign="top">Teuchos::RCP&lt; <a class="el" href="classpanzer_1_1GlobalIndexer.html">panzer::GlobalIndexer</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpanzer_1_1L2Projection.html#a698e55d407420ba10a24f482d0d83948">getTargetGlobalIndexer</a> () const</td></tr>
<tr class="memdesc:a698e55d407420ba10a24f482d0d83948"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the target global indexer. Will be null if <a class="el" href="classpanzer_1_1L2Projection.html#af32d2dbc35eca5e99285a0ad33037805" title="Setup base objects for L2 Projections - requires target scalar basis and creates worksets if not supp...">setup()</a> has not been called.  <br /></td></tr>
<tr class="separator:a698e55d407420ba10a24f482d0d83948"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54dd9b581de6ce245c6fff7210e12be2" id="r_a54dd9b581de6ce245c6fff7210e12be2"><td class="memItemLeft" align="right" valign="top">Teuchos::RCP&lt; Tpetra::CrsMatrix&lt; double, panzer::LocalOrdinal, panzer::GlobalOrdinal, Tpetra::KokkosCompat::KokkosDeviceWrapperNode&lt; PHX::Device &gt; &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpanzer_1_1L2Projection.html#a54dd9b581de6ce245c6fff7210e12be2">buildMassMatrix</a> (bool use_lumping=false, const std::unordered_map&lt; std::string, double &gt; *elementBlockMultipliers=nullptr)</td></tr>
<tr class="memdesc:a54dd9b581de6ce245c6fff7210e12be2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocates, fills and returns a mass matrix for L2 projection onto a target basis.  <br /></td></tr>
<tr class="separator:a54dd9b581de6ce245c6fff7210e12be2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8445f14a5540f42a4c76b147e56b1d6e" id="r_a8445f14a5540f42a4c76b147e56b1d6e"><td class="memItemLeft" align="right" valign="top">Teuchos::RCP&lt; Tpetra::MultiVector&lt; double, panzer::LocalOrdinal, panzer::GlobalOrdinal, Tpetra::KokkosCompat::KokkosDeviceWrapperNode&lt; PHX::Device &gt; &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpanzer_1_1L2Projection.html#a8445f14a5540f42a4c76b147e56b1d6e">buildInverseLumpedMassMatrix</a> ()</td></tr>
<tr class="memdesc:a8445f14a5540f42a4c76b147e56b1d6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocates, fills and returns a Tpetra::MultiVector containing the inverse lumped mass matrix values as computed via Hinton 1976.  <br /></td></tr>
<tr class="separator:a8445f14a5540f42a4c76b147e56b1d6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a998984f8cabcaae239f75107808dcc55" id="r_a998984f8cabcaae239f75107808dcc55"><td class="memItemLeft" align="right" valign="top">Teuchos::RCP&lt; Tpetra::CrsMatrix&lt; double, panzer::LocalOrdinal, panzer::GlobalOrdinal, Tpetra::KokkosCompat::KokkosDeviceWrapperNode&lt; PHX::Device &gt; &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpanzer_1_1L2Projection.html#a998984f8cabcaae239f75107808dcc55">buildRHSMatrix</a> (const <a class="el" href="classpanzer_1_1GlobalIndexer.html">panzer::GlobalIndexer</a> &amp;sourceDOFManager, const Teuchos::RCP&lt; const Tpetra::Map&lt; panzer::LocalOrdinal, panzer::GlobalOrdinal, Tpetra::KokkosCompat::KokkosDeviceWrapperNode&lt; PHX::Device &gt; &gt; &gt; &amp;ownedSourceMap, const std::string &amp;sourceFieldName, const <a class="el" href="classpanzer_1_1BasisDescriptor.html">panzer::BasisDescriptor</a> &amp;sourceBasisDescriptor, const int vectorOrGradientDirectionIndex=-1)</td></tr>
<tr class="memdesc:a998984f8cabcaae239f75107808dcc55"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocates, fills and returns a rectangular matrix for L2 projection of a scalar field, one dimension of gradient (for hgrad basis), or one dimension of a vector field onto the target scalar basis. If you wish to project all values of a vector field or all the gradients of a scalar field, then you will need three separate RHS matrices to form the RHS for each independently. The vectors must be independent Tpetra vectors to solve multiple right hand sides with the linear solver.  <br /></td></tr>
<tr class="separator:a998984f8cabcaae239f75107808dcc55"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a4bf671bbccfa16995557ccbcca72ef71" id="r_a4bf671bbccfa16995557ccbcca72ef71"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classpanzer_1_1BasisDescriptor.html">panzer::BasisDescriptor</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpanzer_1_1L2Projection.html#a4bf671bbccfa16995557ccbcca72ef71">targetBasisDescriptor_</a></td></tr>
<tr class="separator:a4bf671bbccfa16995557ccbcca72ef71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4aaae699b325f22f9259a355b56ba6ce" id="r_a4aaae699b325f22f9259a355b56ba6ce"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classpanzer_1_1IntegrationDescriptor.html">panzer::IntegrationDescriptor</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpanzer_1_1L2Projection.html#a4aaae699b325f22f9259a355b56ba6ce">integrationDescriptor_</a></td></tr>
<tr class="separator:a4aaae699b325f22f9259a355b56ba6ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79f67fcf777f248da078b770e37934a6" id="r_a79f67fcf777f248da078b770e37934a6"><td class="memItemLeft" align="right" valign="top">Teuchos::RCP&lt; const <a class="el" href="classTeuchos_1_1MpiComm.html">Teuchos::MpiComm</a>&lt; int &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpanzer_1_1L2Projection.html#a79f67fcf777f248da078b770e37934a6">comm_</a></td></tr>
<tr class="separator:a79f67fcf777f248da078b770e37934a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6234147a1edbb09bd3e87fa928ebf29" id="r_aa6234147a1edbb09bd3e87fa928ebf29"><td class="memItemLeft" align="right" valign="top">Teuchos::RCP&lt; const <a class="el" href="classpanzer_1_1ConnManager.html">panzer::ConnManager</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpanzer_1_1L2Projection.html#aa6234147a1edbb09bd3e87fa928ebf29">connManager_</a></td></tr>
<tr class="separator:aa6234147a1edbb09bd3e87fa928ebf29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82ecbfd775d4b1b49fdcf00ef3d41802" id="r_a82ecbfd775d4b1b49fdcf00ef3d41802"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpanzer_1_1L2Projection.html#a82ecbfd775d4b1b49fdcf00ef3d41802">elementBlockNames_</a></td></tr>
<tr class="separator:a82ecbfd775d4b1b49fdcf00ef3d41802"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfcc110723cccb31708aaaa87d304f8c" id="r_acfcc110723cccb31708aaaa87d304f8c"><td class="memItemLeft" align="right" valign="top">Teuchos::RCP&lt; <a class="el" href="classpanzer_1_1WorksetContainer.html">panzer::WorksetContainer</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpanzer_1_1L2Projection.html#acfcc110723cccb31708aaaa87d304f8c">worksetContainer_</a></td></tr>
<tr class="separator:acfcc110723cccb31708aaaa87d304f8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2336f70883158e334a1c8af17df5f7b8" id="r_a2336f70883158e334a1c8af17df5f7b8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpanzer_1_1L2Projection.html#a2336f70883158e334a1c8af17df5f7b8">setupCalled_</a></td></tr>
<tr class="separator:a2336f70883158e334a1c8af17df5f7b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadbe5514172cd33b6fff0b0c415d6d73" id="r_aadbe5514172cd33b6fff0b0c415d6d73"><td class="memItemLeft" align="right" valign="top">Teuchos::RCP&lt; <a class="el" href="classpanzer_1_1DOFManager.html">panzer::DOFManager</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpanzer_1_1L2Projection.html#aadbe5514172cd33b6fff0b0c415d6d73">targetGlobalIndexer_</a></td></tr>
<tr class="separator:aadbe5514172cd33b6fff0b0c415d6d73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed3a7285f68391dcb440cdead20165c3" id="r_aed3a7285f68391dcb440cdead20165c3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpanzer_1_1L2Projection.html#aed3a7285f68391dcb440cdead20165c3">useUserSuppliedBasisValues_</a></td></tr>
<tr class="separator:aed3a7285f68391dcb440cdead20165c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad38770e96979c0300c7584dd7b985c34" id="r_ad38770e96979c0300c7584dd7b985c34"><td class="memItemLeft" align="right" valign="top">std::map&lt; std::string, Teuchos::RCP&lt; <a class="el" href="classpanzer_1_1BasisValues2.html">panzer::BasisValues2</a>&lt; double &gt; &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpanzer_1_1L2Projection.html#ad38770e96979c0300c7584dd7b985c34">basisValues_</a></td></tr>
<tr class="separator:ad38770e96979c0300c7584dd7b985c34"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Unified set of tools for building objects for lumped and consistent L2 projects between bases. </p>

<p class="definition">Definition at line <a class="el" href="Panzer__L2Projection_8hpp_source.html#l00043">43</a> of file <a class="el" href="Panzer__L2Projection_8hpp_source.html">Panzer_L2Projection.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="adbdc01a01e981cecba1c5004fb0e1f8f" name="adbdc01a01e981cecba1c5004fb0e1f8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adbdc01a01e981cecba1c5004fb0e1f8f">&#9670;&#160;</a></span>L2Projection()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">panzer::L2Projection::L2Projection </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor. </p>

<p class="definition">Definition at line <a class="el" href="Panzer__L2Projection_8hpp_source.html#l00059">59</a> of file <a class="el" href="Panzer__L2Projection_8hpp_source.html">Panzer_L2Projection.hpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="af32d2dbc35eca5e99285a0ad33037805" name="af32d2dbc35eca5e99285a0ad33037805"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af32d2dbc35eca5e99285a0ad33037805">&#9670;&#160;</a></span>setup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void panzer::L2Projection::setup </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classpanzer_1_1BasisDescriptor.html">panzer::BasisDescriptor</a> &amp;&#160;</td>
          <td class="paramname"><em>targetBasis</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classpanzer_1_1IntegrationDescriptor.html">panzer::IntegrationDescriptor</a> &amp;&#160;</td>
          <td class="paramname"><em>integrationDescriptor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Teuchos::RCP&lt; const <a class="el" href="classTeuchos_1_1MpiComm.html">Teuchos::MpiComm</a>&lt; int &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>comm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Teuchos::RCP&lt; const <a class="el" href="classpanzer_1_1ConnManager.html">panzer::ConnManager</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>connManager</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>elementBlockNames</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Teuchos::RCP&lt; <a class="el" href="classpanzer_1_1WorksetContainer.html">panzer::WorksetContainer</a> &gt;&#160;</td>
          <td class="paramname"><em>worksetContainer</em> = <code>Teuchos::null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Setup base objects for L2 Projections - requires target scalar basis and creates worksets if not supplied by user. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">basis</td><td>(required) Basis that field values will be projected to. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">integrationDescriptor</td><td>(required) Integration order used for the projection. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">comm</td><td>(required) <a class="elRef" href="/home/runner/work/trilinos.github.io/trilinos.github.io/Trilinos/packages/panzer/doc/../../../packages/epetraext/doc/html/namespaceTeuchos.html">Teuchos</a> MPI communicator used all processes involved in the project. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">connManger</td><td>(required) Connection manager to describe the mesh. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">elementBlockNames</td><td>(required) Names of element blocks in mesh that are involved in the projection. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">worksetContainer</td><td>(optional) If the user has already allocated worksets for the corresponding mesh/element blocks, we can used those instead of reallocating for projection. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="Panzer__L2Projection_8cpp_source.html#l00033">33</a> of file <a class="el" href="Panzer__L2Projection_8cpp_source.html">Panzer_L2Projection.cpp</a>.</p>

</div>
</div>
<a id="a05e18b69f77225b1352bea1bfe550014" name="a05e18b69f77225b1352bea1bfe550014"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05e18b69f77225b1352bea1bfe550014">&#9670;&#160;</a></span>useBasisValues()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void panzer::L2Projection::useBasisValues </td>
          <td>(</td>
          <td class="paramtype">const std::map&lt; std::string, Teuchos::RCP&lt; <a class="el" href="classpanzer_1_1BasisValues2.html">panzer::BasisValues2</a>&lt; double &gt; &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>map_eblock_to_bv</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Override using the <a class="el" href="classpanzer_1_1WorksetContainer.html" title="Class that provides access to worksets on each element block and side set.">panzer::WorksetContainer</a> and instead use the registered BasisValues object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bv</td><td>BasisValues object setup in lazy evalaution mode with registered orientations if required.</td></tr>
  </table>
  </dd>
</dl>
<p>The intention of this function is to minimize memory use and redundant evaluations by avoiding workset construction and enforcing lazy evaluation in basis values. </p>

<p class="definition">Definition at line <a class="el" href="Panzer__L2Projection_8cpp_source.html#l00077">77</a> of file <a class="el" href="Panzer__L2Projection_8cpp_source.html">Panzer_L2Projection.cpp</a>.</p>

</div>
</div>
<a id="a698e55d407420ba10a24f482d0d83948" name="a698e55d407420ba10a24f482d0d83948"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a698e55d407420ba10a24f482d0d83948">&#9670;&#160;</a></span>getTargetGlobalIndexer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Teuchos::RCP&lt; <a class="el" href="classpanzer_1_1GlobalIndexer.html">panzer::GlobalIndexer</a> &gt; panzer::L2Projection::getTargetGlobalIndexer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the target global indexer. Will be null if <a class="el" href="classpanzer_1_1L2Projection.html#af32d2dbc35eca5e99285a0ad33037805" title="Setup base objects for L2 Projections - requires target scalar basis and creates worksets if not supp...">setup()</a> has not been called. </p>

<p class="definition">Definition at line <a class="el" href="Panzer__L2Projection_8cpp_source.html#l00090">90</a> of file <a class="el" href="Panzer__L2Projection_8cpp_source.html">Panzer_L2Projection.cpp</a>.</p>

</div>
</div>
<a id="a54dd9b581de6ce245c6fff7210e12be2" name="a54dd9b581de6ce245c6fff7210e12be2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54dd9b581de6ce245c6fff7210e12be2">&#9670;&#160;</a></span>buildMassMatrix()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Teuchos::RCP&lt; Tpetra::CrsMatrix&lt; double, panzer::LocalOrdinal, panzer::GlobalOrdinal, <a class="el" href="namespacepanzer.html#a99d6c2e247dadbef989f9acd93e94960">panzer::TpetraNodeType</a> &gt; &gt; panzer::L2Projection::buildMassMatrix </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>use_lumping</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::unordered_map&lt; std::string, double &gt; *&#160;</td>
          <td class="paramname"><em>elementBlockMultipliers</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocates, fills and returns a mass matrix for L2 projection onto a target basis. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">use_lumping</td><td>(optional) If set to true, the returned mass matrix is a lumped diagonal mass matrix following Hinton, et al. 1976. </td></tr>
    <tr><td class="paramname">elementBlockMultipliers</td><td>(optional) If non-null, a multiplier will be used for each element block. The elements should be ordered corresponding to commManger block ordering. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Filled mass matrix in a Tpetra::CrsMatrix </dd></dl>

<p class="definition">Definition at line <a class="el" href="Panzer__L2Projection_8cpp_source.html#l00094">94</a> of file <a class="el" href="Panzer__L2Projection_8cpp_source.html">Panzer_L2Projection.cpp</a>.</p>

</div>
</div>
<a id="a8445f14a5540f42a4c76b147e56b1d6e" name="a8445f14a5540f42a4c76b147e56b1d6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8445f14a5540f42a4c76b147e56b1d6e">&#9670;&#160;</a></span>buildInverseLumpedMassMatrix()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Teuchos::RCP&lt; Tpetra::MultiVector&lt; double, panzer::LocalOrdinal, panzer::GlobalOrdinal, <a class="el" href="namespacepanzer.html#a99d6c2e247dadbef989f9acd93e94960">panzer::TpetraNodeType</a> &gt; &gt; panzer::L2Projection::buildInverseLumpedMassMatrix </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocates, fills and returns a Tpetra::MultiVector containing the inverse lumped mass matrix values as computed via Hinton 1976. </p>
<p>References:</p>
<p>[1] E. Hinton, T. Rock and O. C. Zienkiewicz, "A Note
on Mass Lumping and Related Processes in the Finite Element
Method," Earthquake Engineering and Structural Dynamics, 4 (1976), 245-249.</p>
<p>[2] T. J. R. Hughes, "The Finite Element Method: Linear Static
and Dynamic Finite Element Analysis," (1987), Section 7.3.2.</p>
<p>NOTE: This is currently sligtly inefficient in that it temporarily allocates the consistent mass matrix. This saves significant code duplication at the temporary runtime cost of allocating the mass matrix. The temporary matrix is deallocated on exit from this function so it should not be an issue.</p>
<dl class="section return"><dt>Returns</dt><dd>Filled inverse lumped mass matrix in a Tpetra::MultiVector (diagonal entries mass matrix) </dd></dl>

<p class="definition">Definition at line <a class="el" href="Panzer__L2Projection_8cpp_source.html#l00367">367</a> of file <a class="el" href="Panzer__L2Projection_8cpp_source.html">Panzer_L2Projection.cpp</a>.</p>

</div>
</div>
<a id="a998984f8cabcaae239f75107808dcc55" name="a998984f8cabcaae239f75107808dcc55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a998984f8cabcaae239f75107808dcc55">&#9670;&#160;</a></span>buildRHSMatrix()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Teuchos::RCP&lt; Tpetra::CrsMatrix&lt; double, panzer::LocalOrdinal, panzer::GlobalOrdinal, <a class="el" href="namespacepanzer.html#a99d6c2e247dadbef989f9acd93e94960">panzer::TpetraNodeType</a> &gt; &gt; panzer::L2Projection::buildRHSMatrix </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classpanzer_1_1GlobalIndexer.html">panzer::GlobalIndexer</a> &amp;&#160;</td>
          <td class="paramname"><em>sourceDOFManager</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Teuchos::RCP&lt; const Tpetra::Map&lt; panzer::LocalOrdinal, panzer::GlobalOrdinal, Tpetra::KokkosCompat::KokkosDeviceWrapperNode&lt; PHX::Device &gt; &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>ownedSourceMap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>sourceFieldName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classpanzer_1_1BasisDescriptor.html">panzer::BasisDescriptor</a> &amp;&#160;</td>
          <td class="paramname"><em>sourceBasisDescriptor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>vectorOrGradientDirectionIndex</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocates, fills and returns a rectangular matrix for L2 projection of a scalar field, one dimension of gradient (for hgrad basis), or one dimension of a vector field onto the target scalar basis. If you wish to project all values of a vector field or all the gradients of a scalar field, then you will need three separate RHS matrices to form the RHS for each independently. The vectors must be independent Tpetra vectors to solve multiple right hand sides with the linear solver. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">(required)</td><td>sourceDOFManager The source dof manger object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">(required)</td><td>ownedSourceMap The Tpetra Map for the owned source vector </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">(required)</td><td>sourceFieldName The string name of the source field to project </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">(required)</td><td>sourceBasisDescriptor The type of the basis for the source field </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">(optional)</td><td>vectorOrGradientDirectionIndex For vector fields, this is the vector index to project (x,y, or z component). For scalar fields, the default value of -1 results in a projection of the scalar field value. If set to 0 or greater, it is assumed that the gradient of the HGrad field is projected and that this value is the dimension index for the particular gradient (x, y, or z component).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Alocated and filled Tpetra::CrsMatrix </dd></dl>

<p class="definition">Definition at line <a class="el" href="Panzer__L2Projection_8cpp_source.html#l00387">387</a> of file <a class="el" href="Panzer__L2Projection_8cpp_source.html">Panzer_L2Projection.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a4bf671bbccfa16995557ccbcca72ef71" name="a4bf671bbccfa16995557ccbcca72ef71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4bf671bbccfa16995557ccbcca72ef71">&#9670;&#160;</a></span>targetBasisDescriptor_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classpanzer_1_1BasisDescriptor.html">panzer::BasisDescriptor</a> panzer::L2Projection::targetBasisDescriptor_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Panzer__L2Projection_8hpp_source.html#l00045">45</a> of file <a class="el" href="Panzer__L2Projection_8hpp_source.html">Panzer_L2Projection.hpp</a>.</p>

</div>
</div>
<a id="a4aaae699b325f22f9259a355b56ba6ce" name="a4aaae699b325f22f9259a355b56ba6ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4aaae699b325f22f9259a355b56ba6ce">&#9670;&#160;</a></span>integrationDescriptor_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classpanzer_1_1IntegrationDescriptor.html">panzer::IntegrationDescriptor</a> panzer::L2Projection::integrationDescriptor_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Panzer__L2Projection_8hpp_source.html#l00046">46</a> of file <a class="el" href="Panzer__L2Projection_8hpp_source.html">Panzer_L2Projection.hpp</a>.</p>

</div>
</div>
<a id="a79f67fcf777f248da078b770e37934a6" name="a79f67fcf777f248da078b770e37934a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79f67fcf777f248da078b770e37934a6">&#9670;&#160;</a></span>comm_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Teuchos::RCP&lt;const <a class="el" href="classTeuchos_1_1MpiComm.html">Teuchos::MpiComm</a>&lt;int&gt; &gt; panzer::L2Projection::comm_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Panzer__L2Projection_8hpp_source.html#l00047">47</a> of file <a class="el" href="Panzer__L2Projection_8hpp_source.html">Panzer_L2Projection.hpp</a>.</p>

</div>
</div>
<a id="aa6234147a1edbb09bd3e87fa928ebf29" name="aa6234147a1edbb09bd3e87fa928ebf29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6234147a1edbb09bd3e87fa928ebf29">&#9670;&#160;</a></span>connManager_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Teuchos::RCP&lt;const <a class="el" href="classpanzer_1_1ConnManager.html">panzer::ConnManager</a>&gt; panzer::L2Projection::connManager_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Panzer__L2Projection_8hpp_source.html#l00048">48</a> of file <a class="el" href="Panzer__L2Projection_8hpp_source.html">Panzer_L2Projection.hpp</a>.</p>

</div>
</div>
<a id="a82ecbfd775d4b1b49fdcf00ef3d41802" name="a82ecbfd775d4b1b49fdcf00ef3d41802"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82ecbfd775d4b1b49fdcf00ef3d41802">&#9670;&#160;</a></span>elementBlockNames_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::string&gt; panzer::L2Projection::elementBlockNames_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Panzer__L2Projection_8hpp_source.html#l00049">49</a> of file <a class="el" href="Panzer__L2Projection_8hpp_source.html">Panzer_L2Projection.hpp</a>.</p>

</div>
</div>
<a id="acfcc110723cccb31708aaaa87d304f8c" name="acfcc110723cccb31708aaaa87d304f8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acfcc110723cccb31708aaaa87d304f8c">&#9670;&#160;</a></span>worksetContainer_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Teuchos::RCP&lt;<a class="el" href="classpanzer_1_1WorksetContainer.html">panzer::WorksetContainer</a>&gt; panzer::L2Projection::worksetContainer_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Panzer__L2Projection_8hpp_source.html#l00050">50</a> of file <a class="el" href="Panzer__L2Projection_8hpp_source.html">Panzer_L2Projection.hpp</a>.</p>

</div>
</div>
<a id="a2336f70883158e334a1c8af17df5f7b8" name="a2336f70883158e334a1c8af17df5f7b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2336f70883158e334a1c8af17df5f7b8">&#9670;&#160;</a></span>setupCalled_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool panzer::L2Projection::setupCalled_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Panzer__L2Projection_8hpp_source.html#l00051">51</a> of file <a class="el" href="Panzer__L2Projection_8hpp_source.html">Panzer_L2Projection.hpp</a>.</p>

</div>
</div>
<a id="aadbe5514172cd33b6fff0b0c415d6d73" name="aadbe5514172cd33b6fff0b0c415d6d73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aadbe5514172cd33b6fff0b0c415d6d73">&#9670;&#160;</a></span>targetGlobalIndexer_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Teuchos::RCP&lt;<a class="el" href="classpanzer_1_1DOFManager.html">panzer::DOFManager</a>&gt; panzer::L2Projection::targetGlobalIndexer_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Panzer__L2Projection_8hpp_source.html#l00052">52</a> of file <a class="el" href="Panzer__L2Projection_8hpp_source.html">Panzer_L2Projection.hpp</a>.</p>

</div>
</div>
<a id="aed3a7285f68391dcb440cdead20165c3" name="aed3a7285f68391dcb440cdead20165c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed3a7285f68391dcb440cdead20165c3">&#9670;&#160;</a></span>useUserSuppliedBasisValues_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool panzer::L2Projection::useUserSuppliedBasisValues_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Panzer__L2Projection_8hpp_source.html#l00053">53</a> of file <a class="el" href="Panzer__L2Projection_8hpp_source.html">Panzer_L2Projection.hpp</a>.</p>

</div>
</div>
<a id="ad38770e96979c0300c7584dd7b985c34" name="ad38770e96979c0300c7584dd7b985c34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad38770e96979c0300c7584dd7b985c34">&#9670;&#160;</a></span>basisValues_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;std::string,Teuchos::RCP&lt;<a class="el" href="classpanzer_1_1BasisValues2.html">panzer::BasisValues2</a>&lt;double&gt; &gt; &gt; panzer::L2Projection::basisValues_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Panzer__L2Projection_8hpp_source.html#l00054">54</a> of file <a class="el" href="Panzer__L2Projection_8hpp_source.html">Panzer_L2Projection.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="Panzer__L2Projection_8hpp_source.html">Panzer_L2Projection.hpp</a></li>
<li><a class="el" href="Panzer__L2Projection_8cpp_source.html">Panzer_L2Projection.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
