<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Panzer: panzer::HP Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Panzer<span id="projectnumber">&#160;Version of the Day</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacepanzer.html">panzer</a></li><li class="navelem"><a class="el" href="classpanzer_1_1HP.html">HP</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classpanzer_1_1HP-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">panzer::HP Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Singleton class for accessing kokkos hierarchical parallelism parameters.  
 <a href="classpanzer_1_1HP.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="Panzer__HierarchicParallelism_8hpp_source.html">Panzer_HierarchicParallelism.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:af5be44312bb5435deb3eab7894f78eab" id="r_af5be44312bb5435deb3eab7894f78eab"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpanzer_1_1HP.html#af5be44312bb5435deb3eab7894f78eab">overrideSizes</a> (const int &amp;team_size, const int &amp;vector_size, const int &amp;fad_vector_size, const bool force_override_safety=false)</td></tr>
<tr class="separator:af5be44312bb5435deb3eab7894f78eab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a656fe3ea56b6d5a27744e7331371ff21" id="r_a656fe3ea56b6d5a27744e7331371ff21"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpanzer_1_1HP.html#a656fe3ea56b6d5a27744e7331371ff21">resetSizes</a> ()</td></tr>
<tr class="memdesc:a656fe3ea56b6d5a27744e7331371ff21"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset the sizes to default.  <br /></td></tr>
<tr class="separator:a656fe3ea56b6d5a27744e7331371ff21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a114a88a39a19f339dd70fe24666379a4" id="r_a114a88a39a19f339dd70fe24666379a4"><td class="memTemplParams" colspan="2">template&lt;typename Scalar &gt; </td></tr>
<tr class="memitem:a114a88a39a19f339dd70fe24666379a4"><td class="memTemplItemLeft" align="right" valign="top">int&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classpanzer_1_1HP.html#a114a88a39a19f339dd70fe24666379a4">vectorSize</a> () const</td></tr>
<tr class="memdesc:a114a88a39a19f339dd70fe24666379a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the vector size. Specialized for AD scalar types.  <br /></td></tr>
<tr class="separator:a114a88a39a19f339dd70fe24666379a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b2e97d4b00c0b49612238566926edc1" id="r_a3b2e97d4b00c0b49612238566926edc1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpanzer_1_1HP.html#a3b2e97d4b00c0b49612238566926edc1">setUseSharedMemory</a> (const bool &amp;use_shared_memory, const bool &amp;fad_use_shared_memory)</td></tr>
<tr class="memdesc:a3b2e97d4b00c0b49612238566926edc1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tell kokkos kernels if they should use shared memory. This is very problem dependent.  <br /></td></tr>
<tr class="separator:a3b2e97d4b00c0b49612238566926edc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50d085628427637a2bdc0ae96bed1294" id="r_a50d085628427637a2bdc0ae96bed1294"><td class="memTemplParams" colspan="2">template&lt;typename Scalar &gt; </td></tr>
<tr class="memitem:a50d085628427637a2bdc0ae96bed1294"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classpanzer_1_1HP.html#a50d085628427637a2bdc0ae96bed1294">useSharedMemory</a> () const</td></tr>
<tr class="separator:a50d085628427637a2bdc0ae96bed1294"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa71f4b655f76b1ed26823fa334c23440" id="r_aa71f4b655f76b1ed26823fa334c23440"><td class="memTemplParams" colspan="2">template&lt;typename ScalarT , typename ... TeamPolicyProperties&gt; </td></tr>
<tr class="memitem:aa71f4b655f76b1ed26823fa334c23440"><td class="memTemplItemLeft" align="right" valign="top">Kokkos::TeamPolicy&lt; TeamPolicyProperties... &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classpanzer_1_1HP.html#aa71f4b655f76b1ed26823fa334c23440">teamPolicy</a> (const int &amp;league_size)</td></tr>
<tr class="memdesc:aa71f4b655f76b1ed26823fa334c23440"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a TeamPolicy for hierarchic parallelism.  <br /></td></tr>
<tr class="separator:aa71f4b655f76b1ed26823fa334c23440"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a4728eae6716d450732319a85550b78" id="r_a1a4728eae6716d450732319a85550b78"><td class="memTemplParams" colspan="2">template&lt;typename ScalarT , typename ... TeamPolicyProperties, typename ExecSpace &gt; </td></tr>
<tr class="memitem:a1a4728eae6716d450732319a85550b78"><td class="memTemplItemLeft" align="right" valign="top">Kokkos::TeamPolicy&lt; ExecSpace, TeamPolicyProperties... &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classpanzer_1_1HP.html#a1a4728eae6716d450732319a85550b78">teamPolicy</a> (ExecSpace exec_space, const int &amp;league_size)</td></tr>
<tr class="memdesc:a1a4728eae6716d450732319a85550b78"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a TeamPolicy for hierarchic parallelism using an exec_space instance (for cuda streams).  <br /></td></tr>
<tr class="separator:a1a4728eae6716d450732319a85550b78"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a2a29ef1780ed300a703fae06c15946cf" id="r_a2a29ef1780ed300a703fae06c15946cf"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classpanzer_1_1HP.html">HP</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpanzer_1_1HP.html#a2a29ef1780ed300a703fae06c15946cf">inst</a> ()</td></tr>
<tr class="memdesc:a2a29ef1780ed300a703fae06c15946cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Private ctor.  <br /></td></tr>
<tr class="separator:a2a29ef1780ed300a703fae06c15946cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:ac4c4e121db20c56bfa4616608c6a2179" id="r_ac4c4e121db20c56bfa4616608c6a2179"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpanzer_1_1HP.html#ac4c4e121db20c56bfa4616608c6a2179">HP</a> ()</td></tr>
<tr class="memdesc:ac4c4e121db20c56bfa4616608c6a2179"><td class="mdescLeft">&#160;</td><td class="mdescRight">Use shared memory kokkos kernels for fad types.  <br /></td></tr>
<tr class="separator:ac4c4e121db20c56bfa4616608c6a2179"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a7f5204986e0559ff2489a0637274a309" id="r_a7f5204986e0559ff2489a0637274a309"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpanzer_1_1HP.html#a7f5204986e0559ff2489a0637274a309">use_auto_team_size_</a></td></tr>
<tr class="separator:a7f5204986e0559ff2489a0637274a309"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a142c19a67af30e6bda2783f0ea531894" id="r_a142c19a67af30e6bda2783f0ea531894"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpanzer_1_1HP.html#a142c19a67af30e6bda2783f0ea531894">team_size_</a></td></tr>
<tr class="memdesc:a142c19a67af30e6bda2783f0ea531894"><td class="mdescLeft">&#160;</td><td class="mdescRight">If true, the team size is set with Kokkos::AUTO()  <br /></td></tr>
<tr class="separator:a142c19a67af30e6bda2783f0ea531894"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f464c22238feca8395d55e1c40a84ef" id="r_a2f464c22238feca8395d55e1c40a84ef"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpanzer_1_1HP.html#a2f464c22238feca8395d55e1c40a84ef">vector_size_</a></td></tr>
<tr class="memdesc:a2f464c22238feca8395d55e1c40a84ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">User specified team size.  <br /></td></tr>
<tr class="separator:a2f464c22238feca8395d55e1c40a84ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aced38dfe80443bd118faa7597a786413" id="r_aced38dfe80443bd118faa7597a786413"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpanzer_1_1HP.html#aced38dfe80443bd118faa7597a786413">fad_vector_size_</a></td></tr>
<tr class="memdesc:aced38dfe80443bd118faa7597a786413"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default vector size for non-AD types.  <br /></td></tr>
<tr class="separator:aced38dfe80443bd118faa7597a786413"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac297c2b29ca9b03a15b7166051213876" id="r_ac297c2b29ca9b03a15b7166051213876"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpanzer_1_1HP.html#ac297c2b29ca9b03a15b7166051213876">use_shared_memory_</a></td></tr>
<tr class="memdesc:ac297c2b29ca9b03a15b7166051213876"><td class="mdescLeft">&#160;</td><td class="mdescRight">FAD vector size.  <br /></td></tr>
<tr class="separator:ac297c2b29ca9b03a15b7166051213876"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb143e4d439ba36a196a0cddd9e5198e" id="r_abb143e4d439ba36a196a0cddd9e5198e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpanzer_1_1HP.html#abb143e4d439ba36a196a0cddd9e5198e">fad_use_shared_memory_</a></td></tr>
<tr class="memdesc:abb143e4d439ba36a196a0cddd9e5198e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Use shared memory kokkos kernels for non-fad types.  <br /></td></tr>
<tr class="separator:abb143e4d439ba36a196a0cddd9e5198e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Singleton class for accessing kokkos hierarchical parallelism parameters. </p>

<p class="definition">Definition at line <a class="el" href="Panzer__HierarchicParallelism_8hpp_source.html#l00019">19</a> of file <a class="el" href="Panzer__HierarchicParallelism_8hpp_source.html">Panzer_HierarchicParallelism.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ac4c4e121db20c56bfa4616608c6a2179" name="ac4c4e121db20c56bfa4616608c6a2179"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4c4e121db20c56bfa4616608c6a2179">&#9670;&#160;</a></span>HP()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">panzer::HP::HP </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Use shared memory kokkos kernels for fad types. </p>

<p class="definition">Definition at line <a class="el" href="Panzer__HierarchicParallelism_8cpp_source.html#l00015">15</a> of file <a class="el" href="Panzer__HierarchicParallelism_8cpp_source.html">Panzer_HierarchicParallelism.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a2a29ef1780ed300a703fae06c15946cf" name="a2a29ef1780ed300a703fae06c15946cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a29ef1780ed300a703fae06c15946cf">&#9670;&#160;</a></span>inst()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classpanzer_1_1HP.html">HP</a> &amp; panzer::HP::inst </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Private ctor. </p>
<p>Return singleton instance of this class. </p>

<p class="definition">Definition at line <a class="el" href="Panzer__HierarchicParallelism_8cpp_source.html#l00033">33</a> of file <a class="el" href="Panzer__HierarchicParallelism_8cpp_source.html">Panzer_HierarchicParallelism.cpp</a>.</p>

</div>
</div>
<a id="af5be44312bb5435deb3eab7894f78eab" name="af5be44312bb5435deb3eab7894f78eab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5be44312bb5435deb3eab7894f78eab">&#9670;&#160;</a></span>overrideSizes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void panzer::HP::overrideSizes </td>
          <td>(</td>
          <td class="paramtype">const int &amp;&#160;</td>
          <td class="paramname"><em>team_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int &amp;&#160;</td>
          <td class="paramname"><em>vector_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int &amp;&#160;</td>
          <td class="paramname"><em>fad_vector_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>force_override_safety</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Allows the user to override the Kokkos default team and vector sizes for kernel dispatch. The values will be capped by hardware limits and rounded down to the nearest power of two.</p>
<p>The final variable will force the values input to be set explicity and not round down to the nearest power of two or hardware maximum.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">team_size</td><td>Team size requested for hierarchic kernel </td></tr>
    <tr><td class="paramname">vector_size</td><td>Vector size requested for hierarchic kernel for non-FAD scalar types </td></tr>
    <tr><td class="paramname">fad_vector_size</td><td>Vector size requested for hierarchic kernel for FAD scalar types </td></tr>
    <tr><td class="paramname">force_override_safety</td><td>Ignore the power of two and other checks </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="Panzer__HierarchicParallelism_8cpp_source.html#l00049">49</a> of file <a class="el" href="Panzer__HierarchicParallelism_8cpp_source.html">Panzer_HierarchicParallelism.cpp</a>.</p>

</div>
</div>
<a id="a656fe3ea56b6d5a27744e7331371ff21" name="a656fe3ea56b6d5a27744e7331371ff21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a656fe3ea56b6d5a27744e7331371ff21">&#9670;&#160;</a></span>resetSizes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void panzer::HP::resetSizes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reset the sizes to default. </p>

<p class="definition">Definition at line <a class="el" href="Panzer__HierarchicParallelism_8hpp_source.html#l00051">51</a> of file <a class="el" href="Panzer__HierarchicParallelism_8hpp_source.html">Panzer_HierarchicParallelism.hpp</a>.</p>

</div>
</div>
<a id="a114a88a39a19f339dd70fe24666379a4" name="a114a88a39a19f339dd70fe24666379a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a114a88a39a19f339dd70fe24666379a4">&#9670;&#160;</a></span>vectorSize()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Scalar &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int panzer::HP::vectorSize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the vector size. Specialized for AD scalar types. </p>
<p>NOTE: For hierarchic parallelism, if we use the same code for both Residual and Jacobian (as we do in most evaluators), the loop over vector level is missing for Residual. The loop is implemented internally in the AD types for Jacobian where on CUDA the warp parallelizes over the derivative dimension. To prevent incorrect code, we need to force the vector size to 1 for non-AD scalar types. Eventual workaround is to use SIMD data type with similar hidden vector loop for Residual. In the mean time, this function will set correct vector_size of one. </p>

<p class="definition">Definition at line <a class="el" href="Panzer__HierarchicParallelism_8hpp_source.html#l00066">66</a> of file <a class="el" href="Panzer__HierarchicParallelism_8hpp_source.html">Panzer_HierarchicParallelism.hpp</a>.</p>

</div>
</div>
<a id="a3b2e97d4b00c0b49612238566926edc1" name="a3b2e97d4b00c0b49612238566926edc1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b2e97d4b00c0b49612238566926edc1">&#9670;&#160;</a></span>setUseSharedMemory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void panzer::HP::setUseSharedMemory </td>
          <td>(</td>
          <td class="paramtype">const bool &amp;&#160;</td>
          <td class="paramname"><em>use_shared_memory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool &amp;&#160;</td>
          <td class="paramname"><em>fad_use_shared_memory</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tell kokkos kernels if they should use shared memory. This is very problem dependent. </p>
<p>If a panzer hierarchic kernel can use shared memory to speed the calculation, then it carries a second implementation that takes advantage of shared memory. Shared memory on the GPU is very limited. On some of the example problems, the shared memory runs out if the basis is greated than order 2 on a hex mesh. This is also very dependent on the size of the derivative array. A large derivative array uses up memory much quicker. The default is that for non-fad types, we always enable shared memory. For fad types the default is to disable use of shared memory, but this function can override for specific problems. For example, the adapters-stk/examples/MixedPoission problem can use shared memory for fad types for basis order 2 or less. It will call this function based on the basis order to improve performance. </p>

<p class="definition">Definition at line <a class="el" href="Panzer__HierarchicParallelism_8cpp_source.html#l00073">73</a> of file <a class="el" href="Panzer__HierarchicParallelism_8cpp_source.html">Panzer_HierarchicParallelism.cpp</a>.</p>

</div>
</div>
<a id="a50d085628427637a2bdc0ae96bed1294" name="a50d085628427637a2bdc0ae96bed1294"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50d085628427637a2bdc0ae96bed1294">&#9670;&#160;</a></span>useSharedMemory()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Scalar &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool panzer::HP::useSharedMemory </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Panzer__HierarchicParallelism_8hpp_source.html#l00092">92</a> of file <a class="el" href="Panzer__HierarchicParallelism_8hpp_source.html">Panzer_HierarchicParallelism.hpp</a>.</p>

</div>
</div>
<a id="aa71f4b655f76b1ed26823fa334c23440" name="aa71f4b655f76b1ed26823fa334c23440"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa71f4b655f76b1ed26823fa334c23440">&#9670;&#160;</a></span>teamPolicy() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ScalarT , typename ... TeamPolicyProperties&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Kokkos::TeamPolicy&lt; TeamPolicyProperties... &gt; panzer::HP::teamPolicy </td>
          <td>(</td>
          <td class="paramtype">const int &amp;&#160;</td>
          <td class="paramname"><em>league_size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a TeamPolicy for hierarchic parallelism. </p>

<p class="definition">Definition at line <a class="el" href="Panzer__HierarchicParallelism_8hpp_source.html#l00099">99</a> of file <a class="el" href="Panzer__HierarchicParallelism_8hpp_source.html">Panzer_HierarchicParallelism.hpp</a>.</p>

</div>
</div>
<a id="a1a4728eae6716d450732319a85550b78" name="a1a4728eae6716d450732319a85550b78"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a4728eae6716d450732319a85550b78">&#9670;&#160;</a></span>teamPolicy() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ScalarT , typename ... TeamPolicyProperties, typename ExecSpace &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Kokkos::TeamPolicy&lt; ExecSpace, TeamPolicyProperties... &gt; panzer::HP::teamPolicy </td>
          <td>(</td>
          <td class="paramtype">ExecSpace&#160;</td>
          <td class="paramname"><em>exec_space</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int &amp;&#160;</td>
          <td class="paramname"><em>league_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a TeamPolicy for hierarchic parallelism using an exec_space instance (for cuda streams). </p>

<p class="definition">Definition at line <a class="el" href="Panzer__HierarchicParallelism_8hpp_source.html#l00112">112</a> of file <a class="el" href="Panzer__HierarchicParallelism_8hpp_source.html">Panzer_HierarchicParallelism.hpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a7f5204986e0559ff2489a0637274a309" name="a7f5204986e0559ff2489a0637274a309"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f5204986e0559ff2489a0637274a309">&#9670;&#160;</a></span>use_auto_team_size_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool panzer::HP::use_auto_team_size_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Panzer__HierarchicParallelism_8hpp_source.html#l00020">20</a> of file <a class="el" href="Panzer__HierarchicParallelism_8hpp_source.html">Panzer_HierarchicParallelism.hpp</a>.</p>

</div>
</div>
<a id="a142c19a67af30e6bda2783f0ea531894" name="a142c19a67af30e6bda2783f0ea531894"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a142c19a67af30e6bda2783f0ea531894">&#9670;&#160;</a></span>team_size_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int panzer::HP::team_size_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If true, the team size is set with Kokkos::AUTO() </p>

<p class="definition">Definition at line <a class="el" href="Panzer__HierarchicParallelism_8hpp_source.html#l00021">21</a> of file <a class="el" href="Panzer__HierarchicParallelism_8hpp_source.html">Panzer_HierarchicParallelism.hpp</a>.</p>

</div>
</div>
<a id="a2f464c22238feca8395d55e1c40a84ef" name="a2f464c22238feca8395d55e1c40a84ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f464c22238feca8395d55e1c40a84ef">&#9670;&#160;</a></span>vector_size_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int panzer::HP::vector_size_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>User specified team size. </p>

<p class="definition">Definition at line <a class="el" href="Panzer__HierarchicParallelism_8hpp_source.html#l00022">22</a> of file <a class="el" href="Panzer__HierarchicParallelism_8hpp_source.html">Panzer_HierarchicParallelism.hpp</a>.</p>

</div>
</div>
<a id="aced38dfe80443bd118faa7597a786413" name="aced38dfe80443bd118faa7597a786413"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aced38dfe80443bd118faa7597a786413">&#9670;&#160;</a></span>fad_vector_size_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int panzer::HP::fad_vector_size_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Default vector size for non-AD types. </p>

<p class="definition">Definition at line <a class="el" href="Panzer__HierarchicParallelism_8hpp_source.html#l00023">23</a> of file <a class="el" href="Panzer__HierarchicParallelism_8hpp_source.html">Panzer_HierarchicParallelism.hpp</a>.</p>

</div>
</div>
<a id="ac297c2b29ca9b03a15b7166051213876" name="ac297c2b29ca9b03a15b7166051213876"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac297c2b29ca9b03a15b7166051213876">&#9670;&#160;</a></span>use_shared_memory_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool panzer::HP::use_shared_memory_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>FAD vector size. </p>

<p class="definition">Definition at line <a class="el" href="Panzer__HierarchicParallelism_8hpp_source.html#l00024">24</a> of file <a class="el" href="Panzer__HierarchicParallelism_8hpp_source.html">Panzer_HierarchicParallelism.hpp</a>.</p>

</div>
</div>
<a id="abb143e4d439ba36a196a0cddd9e5198e" name="abb143e4d439ba36a196a0cddd9e5198e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb143e4d439ba36a196a0cddd9e5198e">&#9670;&#160;</a></span>fad_use_shared_memory_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool panzer::HP::fad_use_shared_memory_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Use shared memory kokkos kernels for non-fad types. </p>

<p class="definition">Definition at line <a class="el" href="Panzer__HierarchicParallelism_8hpp_source.html#l00025">25</a> of file <a class="el" href="Panzer__HierarchicParallelism_8hpp_source.html">Panzer_HierarchicParallelism.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="Panzer__HierarchicParallelism_8hpp_source.html">Panzer_HierarchicParallelism.hpp</a></li>
<li><a class="el" href="Panzer__HierarchicParallelism_8cpp_source.html">Panzer_HierarchicParallelism.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
