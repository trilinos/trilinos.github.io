<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Amesos: Amesos: An Interface to Serial and Parallel Direct Sparse Solver Packages.</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Amesos<span id="projectnumber">&#160;Development</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title"><a class="el" href="classAmesos.html" title="Factory for binding a third party direct solver to an Epetra_LinearProblem.">Amesos</a>: An Interface to Serial and Parallel Direct Sparse Solver Packages. </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><div class="image">
<img src="AmesosLogo.jpeg" alt=""/>
</div>
<p></p>
<h1><a class="anchor" id="am_toc"></a>
Table of Contents</h1>
<p><a class="el" href="classAmesos.html" title="Factory for binding a third party direct solver to an Epetra_LinearProblem.">Amesos</a> provides an object-oriented interface to several direct sparse solvers, both sequential and parallel. <a class="el" href="classAmesos.html" title="Factory for binding a third party direct solver to an Epetra_LinearProblem.">Amesos</a> is developed by M. Sala, K. Stanley, R. Hoekstra, T. Davis, and M. Heroux.</p>
<p>The main page of the Doxygen documentation is organized as follows:</p><ul>
<li><a class="el" href="index.html#am_intro">Introduction</a></li>
<li><a class="el" href="index.html#am_copyright">Copyright and licensing of the third party codes</a></li>
<li><a class="el" href="index.html#am_comparison">Quick comparison of the Amesos classes</a></li>
<li><a class="el" href="index.html#am_matrix">Supported Matrix Formats.</a></li>
<li><a class="el" href="index.html#am_install">Installing Amesos</a></li>
<li><a class="el" href="index.html#am_example">Example of Use of Amesos Classes</a></li>
<li><a class="el" href="am_readme.html">README</a></li>
<li><a class="el" href="am_change_log.html">ChangeLog</a></li>
<li><a class="el" href="index.html#am_python">Python support</a></li>
<li><a class="el" href="index.html#am_thyra">Thyra support</a></li>
<li><a class="el" href="index.html#am_browser">Browse all of Amesos as a single doxygen collection</a></li>
<li><a class="el" href="index.html#am_future">Known bugs and future developments</a></li>
<li><a class="el" href="index.html#am_final">Final Remarks</a></li>
</ul>
<h1><a class="anchor" id="am_intro"></a>
Introduction</h1>
<p><a class="el" href="classAmesos.html" title="Factory for binding a third party direct solver to an Epetra_LinearProblem.">Amesos</a> supports the following classes:</p>
<ul>
<li><code><a class="el" href="classAmesos__Lapack.html" title="Amesos_Lapack: an interface to LAPACK.">Amesos_Lapack</a></code> - Interface to LAPACK's serial dense solver DGETRF.</li>
<li><code><a class="el" href="classAmesos__Scalapack.html" title="Amesos_Scalapack: A serial and parallel dense solver. For now, we implement only the unsymmetric ScaL...">Amesos_Scalapack</a></code> - Interface to ScaLAPACK's parallel dense solver PDGETRF.</li>
<li><code><a class="el" href="classAmesos__Klu.html" title="Amesos_Klu: A serial, unblocked code ideal for getting started and for very sparse matrices,...">Amesos_Klu</a></code> - Interface to Tim Davis serial solver KLU (distributed within <a class="el" href="classAmesos.html" title="Factory for binding a third party direct solver to an Epetra_LinearProblem.">Amesos</a>).</li>
<li><code><a class="el" href="classAmesos__Umfpack.html" title="Class Amesos_Umfpack: An object-oriented wrapper for UMFPACK.">Amesos_Umfpack</a></code> - Interface to Tim Davis's UMFPACK (version 4.3 or later)</li>
<li><code><a class="el" href="classAmesos__Pardiso.html" title="Amesos_Pardiso: Interface to the PARDISO package.">Amesos_Pardiso</a></code> - Interface to PARDISO (prototype)</li>
<li><code><a class="el" href="classAmesos__Taucs.html" title="Amesos_Taucs: An interface to the TAUCS package.">Amesos_Taucs</a></code> - Interface to TAUCS</li>
<li><code><a class="el" href="classAmesos__Superlu.html" title="Amesos_Superlu: Amesos interface to Xioye Li&#39;s SuperLU 3.0 serial code.">Amesos_Superlu</a></code> - Interface to Xiaoye Li's SuperLU serial memory code with serial input interface (version 3.0 or later).</li>
<li><code><a class="el" href="classAmesos__Superludist.html" title="Amesos_Superludist: An object-oriented wrapper for Superludist.">Amesos_Superludist</a></code> - Interface to Xiaoye Li's SuperLU Distributed memory code with serial input interface (version 2.0 or later).</li>
<li><code><a class="el" href="classAmesos__Dscpack.html" title="Amesos_Dscpack: An object-oriented wrapper for Dscpack.">Amesos_Dscpack</a></code> - Interface to Padma Raghavan's DSCPACK</li>
<li><code><a class="el" href="classAmesos__Mumps.html" title="Amesos_Mumps: An object-oriented wrapper for the double precision version of MUMPS.">Amesos_Mumps</a></code> - Interface to CERFACS' MUMPS (version 4.3.1 or later)</li>
</ul>
<p>We refer to the Sandia report SAND-2004-2188 for a detailed overview of <a class="el" href="classAmesos.html" title="Factory for binding a third party direct solver to an Epetra_LinearProblem.">Amesos</a>. A PDF version of this report can be found the <code>Trilinos/packages/amesos/doc/AmesosReferenceGuide/AmesosReferenceGuide.pdf</code>.</p>
<h1><a class="anchor" id="am_copyright"></a>
Copyright and licensing of the third party codes</h1>
<p>Most of the <a class="el" href="classAmesos.html" title="Factory for binding a third party direct solver to an Epetra_LinearProblem.">Amesos</a> classes are based on a third party code (that is, not distributed within Trilinos). Each third party code comes with its own copyright and/or licensing requirements. It is responsibility of the user to fulfill the requirements of each supported package' copyright.</p>
<p>Most of these third party codes are intended to be made available at no cost to users. Much of the copyright and licensing restrictions concern rights to modify, redistribute the code and generally include a request that credit be given in any papers which make use of their code. Please refer to the web page for the package that you are interested in for details. <br  />
</p>
<h1><a class="anchor" id="am_comparison"></a>
Quick comparison of the Amesos classes</h1>
<p>The following tables reports an overview of the <a class="el" href="classAmesos.html" title="Factory for binding a third party direct solver to an Epetra_LinearProblem.">Amesos</a> classes.</p>
<table class="doxtable">
<tr>
<td><b>Features</b> </td><td><a class="el" href="classAmesos__Lapack.html" title="Amesos_Lapack: an interface to LAPACK.">Amesos_Lapack</a> </td><td><a class="el" href="classAmesos__Klu.html" title="Amesos_Klu: A serial, unblocked code ideal for getting started and for very sparse matrices,...">Amesos_Klu</a> </td><td><a class="el" href="classAmesos__Umfpack.html" title="Class Amesos_Umfpack: An object-oriented wrapper for UMFPACK.">Amesos_Umfpack</a> </td><td><a class="el" href="classAmesos__Superlu.html" title="Amesos_Superlu: Amesos interface to Xioye Li&#39;s SuperLU 3.0 serial code.">Amesos_Superlu</a> </td><td><a class="el" href="classAmesos__Scalapack.html" title="Amesos_Scalapack: A serial and parallel dense solver. For now, we implement only the unsymmetric ScaL...">Amesos_Scalapack</a>  </td></tr>
<tr>
<td>Default behavior </td><td>Enabled </td><td>Enabled </td><td>Disabled </td><td>Disabled </td><td>Disabled  </td></tr>
<tr>
<td>Package is written in </td><td>FORTRAN77 </td><td>C </td><td>C </td><td>C </td><td>FORTRAN77  </td></tr>
<tr>
<td>Communicator </td><td>none </td><td>none </td><td>none </td><td>none </td><td>MPI  </td></tr>
<tr>
<td>Processes used for Factorization/Solve </td><td>Process 0 </td><td>Process 0 </td><td>Process 0 </td><td>Process 0 </td><td>Any  </td></tr>
<tr>
<td>Distributed input matrix </td><td>Yes  </td><td>Yes  </td><td>Yes  </td><td>Yes  </td><td>Yes   </td></tr>
<tr>
<td>Unsymmetric matrices </td><td>Yes </td><td>Yes </td><td>Yes </td><td>Yes </td><td>Yes  </td></tr>
<tr>
<td>Requires BLAS </td><td>Yes </td><td>Yes </td><td>Yes </td><td>Yes </td><td>Yes  </td></tr>
<tr>
<td>Requires LAPACK </td><td>Yes </td><td>No </td><td>No </td><td>No </td><td>No  </td></tr>
<tr>
<td>Requires BLACS </td><td>No </td><td>No </td><td>No </td><td>No </td><td>Yes  </td></tr>
<tr>
<td>Requires ScaLAPACK </td><td>No </td><td>No </td><td>No </td><td>No </td><td>Yes  </td></tr>
</table>
<table class="doxtable">
<tr>
<td><b>Features</b> </td><td><a class="el" href="classAmesos__Pardiso.html" title="Amesos_Pardiso: Interface to the PARDISO package.">Amesos_Pardiso</a> </td><td><a class="el" href="classAmesos__Taucs.html" title="Amesos_Taucs: An interface to the TAUCS package.">Amesos_Taucs</a> </td><td><a class="el" href="classAmesos__Superludist.html" title="Amesos_Superludist: An object-oriented wrapper for Superludist.">Amesos_Superludist</a> </td><td><a class="el" href="classAmesos__Mumps.html" title="Amesos_Mumps: An object-oriented wrapper for the double precision version of MUMPS.">Amesos_Mumps</a> </td><td><a class="el" href="classAmesos__Dscpack.html" title="Amesos_Dscpack: An object-oriented wrapper for Dscpack.">Amesos_Dscpack</a>  </td></tr>
<tr>
<td>Default behavior </td><td>Disabled </td><td>Disabled </td><td>Disabled </td><td>Disabled </td><td>Disabled  </td></tr>
<tr>
<td>Package is written in </td><td>&ndash; </td><td>C </td><td>C </td><td>FORTRAN90 </td><td>C  </td></tr>
<tr>
<td>Communicator </td><td>none </td><td>none </td><td>MPI </td><td>FORTRAN MPI </td><td>MPI  </td></tr>
<tr>
<td>Processes used for Factorization/Solve </td><td>Any </td><td>Any </td><td>Any </td><td>Any (*) </td><td>Any (**)  </td></tr>
<tr>
<td>Distributed input matrix </td><td>Yes  </td><td>Yes  </td><td>Yes  </td><td>Yes  </td><td>Yes   </td></tr>
<tr>
<td>Unsymmetric matrices </td><td>Yes </td><td>No </td><td>Yes </td><td>Yes </td><td>No  </td></tr>
<tr>
<td>Requires BLAS </td><td>Yes </td><td>No </td><td>Yes </td><td>Yes </td><td>Yes  </td></tr>
<tr>
<td>Requires LAPACK </td><td>Yes </td><td>No </td><td>No </td><td>No </td><td>No  </td></tr>
<tr>
<td>Requires BLACS </td><td>No </td><td>No </td><td>No </td><td>Yes </td><td>No  </td></tr>
<tr>
<td>Requires ScaLAPACK </td><td>No </td><td>No </td><td>No </td><td>Yes </td><td>No  </td></tr>
</table>
<p>(*) MUMPS required FORTRAN communicators. Some architectures (e.g., SGI) does not allow portable conversions from C/C++ communicator and FORTRAN. On these architectures, therefore, <code>MPI_COMM_WORLD</code> will be used by MUMPS. Instead, if C/C++ communicators can be converted to FORTRAN ones, then any number of prosesses can be used by <a class="el" href="classAmesos__Mumps.html" title="Amesos_Mumps: An object-oriented wrapper for the double precision version of MUMPS.">Amesos_Mumps</a>.</p>
<p>(**) DSCPACK requires a number of processes that is a power of 2.</p>
<h1><a class="anchor" id="am_matrix"></a>
Supported Matrix Formats.</h1>
<p>The following table details the supported matrix formats for each class.</p>
<table class="doxtable">
<tr>
<td></td><td><a class="el" href="classAmesos__Lapack.html" title="Amesos_Lapack: an interface to LAPACK.">Amesos_Lapack</a> </td><td><a class="el" href="classAmesos__Klu.html" title="Amesos_Klu: A serial, unblocked code ideal for getting started and for very sparse matrices,...">Amesos_Klu</a> </td><td><a class="el" href="classAmesos__Umfpack.html" title="Class Amesos_Umfpack: An object-oriented wrapper for UMFPACK.">Amesos_Umfpack</a> </td><td><a class="el" href="classAmesos__Pardiso.html" title="Amesos_Pardiso: Interface to the PARDISO package.">Amesos_Pardiso</a> </td><td><a class="el" href="classAmesos__Taucs.html" title="Amesos_Taucs: An interface to the TAUCS package.">Amesos_Taucs</a> </td><td><a class="el" href="classAmesos__Scalapack.html" title="Amesos_Scalapack: A serial and parallel dense solver. For now, we implement only the unsymmetric ScaL...">Amesos_Scalapack</a>  </td></tr>
<tr>
<td>Epetra_RowMatrix </td><td>yes </td><td>yes </td><td>yes </td><td>yes </td><td>yes </td><td>yes  </td></tr>
<tr>
<td>Epetra_CrsMatrix </td><td>yes </td><td>yes </td><td>yes </td><td>yes </td><td>yes </td><td>yes  </td></tr>
<tr>
<td>Epetra_VbrMatrix </td><td>yes </td><td>yes </td><td>yes </td><td>yes </td><td>yes </td><td>yes  </td></tr>
</table>
<table class="doxtable">
<tr>
<td></td><td><a class="el" href="classAmesos__Superlu.html" title="Amesos_Superlu: Amesos interface to Xioye Li&#39;s SuperLU 3.0 serial code.">Amesos_Superlu</a> </td><td><a class="el" href="classAmesos__Superludist.html" title="Amesos_Superludist: An object-oriented wrapper for Superludist.">Amesos_Superludist</a> </td><td><a class="el" href="classAmesos__Mumps.html" title="Amesos_Mumps: An object-oriented wrapper for the double precision version of MUMPS.">Amesos_Mumps</a> </td><td><a class="el" href="classAmesos__Dscpack.html" title="Amesos_Dscpack: An object-oriented wrapper for Dscpack.">Amesos_Dscpack</a>  </td></tr>
<tr>
<td>Epetra_RowMatrix </td><td>yes </td><td>yes </td><td>yes </td><td>yes  </td></tr>
<tr>
<td>Epetra_CrsMatrix </td><td>yes </td><td>yes </td><td>yes </td><td>yes  </td></tr>
<tr>
<td>Epetra_VbrMatrix </td><td>yes </td><td>yes </td><td>yes </td><td>no  </td></tr>
</table>
<h1><a class="anchor" id="am_install"></a>
Installing Amesos</h1>
<p>Each of the <a class="el" href="classAmesos.html" title="Factory for binding a third party direct solver to an Epetra_LinearProblem.">Amesos</a> classes provides an interface to a third party direct sparse solver code. (Exception is KLU, whose sources are distributed within <a class="el" href="classAmesos.html" title="Factory for binding a third party direct solver to an Epetra_LinearProblem.">Amesos</a>.) In order to install a particular class, you must first install the underlying direct sparse solver code.</p>
<p><a class="el" href="classAmesos.html" title="Factory for binding a third party direct solver to an Epetra_LinearProblem.">Amesos</a> is distributed through the Trilinos project, and can be downloaded from the web site <a href="http://trilinos.sandia.gov/download">http://trilinos.sandia.gov/download</a>.</p>
<p>As all other Trilinos packages, <a class="el" href="classAmesos.html" title="Factory for binding a third party direct solver to an Epetra_LinearProblem.">Amesos</a> is configured and built using the GNU autoconf and automake tools. To configure <a class="el" href="classAmesos.html" title="Factory for binding a third party direct solver to an Epetra_LinearProblem.">Amesos</a> from the Trilinos top directory, a possible procedure is as follows. Let <code>TRILINOS_HOME</code> be a shell variable representing the location of the Trilinos source directory, and % the shell prompt sign. Let us suppose that we want to configure <a class="el" href="classAmesos.html" title="Factory for binding a third party direct solver to an Epetra_LinearProblem.">Amesos</a> on a LINUX machine with MPI, with support for KLU and UMFPACK. Header files for UMFPACK are located in directory <code>/usr/local/umfpack/include</code>, while the library, called <code>libumfpack.a</code> is located in <code>/usr/local/umfpack/lib</code>. The configure like will look like:</p>
<div class="fragment"><div class="line">% cd $TRILINOS_HOME</div>
<div class="line">% mkdir LINUX_MPI</div>
<div class="line">% cd LINUX_MPI</div>
<div class="line">% ../configure \</div>
<div class="line">  --with-mpi-compilers \</div>
<div class="line">  --prefix=$TRILINOS_HOME/LINUX_MPI \</div>
<div class="line">  --enable-amesos \</div>
<div class="line">  --enable-amesos-klu \</div>
<div class="line">  --enable-amesos-umfpack \</div>
<div class="line">  --with-incdirs=<span class="stringliteral">&quot;-I/usr/local/umfpack/include&quot;</span> \</div>
<div class="line">  --with-ldflags=<span class="stringliteral">&quot;-L/usr/local/umfpack/lib&quot;</span> \</div>
<div class="line">  --with-libs=<span class="stringliteral">&quot;-lumfpack&quot;</span></div>
<div class="line">% make</div>
<div class="line">% make install</div>
</div><!-- fragment --><p>Other flags may be required depending on the location of MPI, BLAS and LAPACK. The table below reports the architectures and compilers tested with each of the <a class="el" href="classAmesos.html" title="Factory for binding a third party direct solver to an Epetra_LinearProblem.">Amesos</a> classes. "nightly" means that these tests are included in out routine (though not always nightly) testing. "yes" means that theses tests were run at least once. <br  />
</p>
<p>This table may soon be replaced by a table which reports only the results of the routine, "nightly", tests. <a class="el" href="am_manual_testing.html">MANUAL TESTING</a> will continue to list of architectures and compilers on which <a class="el" href="classAmesos.html" title="Factory for binding a third party direct solver to an Epetra_LinearProblem.">Amesos</a> solvers have been tested manually.</p>
<table class="doxtable">
<tr>
<td>architecture </td><td><a class="el" href="classAmesos__Lapack.html" title="Amesos_Lapack: an interface to LAPACK.">Amesos_Lapack</a> </td><td><a class="el" href="classAmesos__Klu.html" title="Amesos_Klu: A serial, unblocked code ideal for getting started and for very sparse matrices,...">Amesos_Klu</a> </td><td><a class="el" href="classAmesos__Umfpack.html" title="Class Amesos_Umfpack: An object-oriented wrapper for UMFPACK.">Amesos_Umfpack</a> </td><td><a class="el" href="classAmesos__Pardiso.html" title="Amesos_Pardiso: Interface to the PARDISO package.">Amesos_Pardiso</a> </td><td><a class="el" href="classAmesos__Taucs.html" title="Amesos_Taucs: An interface to the TAUCS package.">Amesos_Taucs</a> </td><td><a class="el" href="classAmesos__Scalapack.html" title="Amesos_Scalapack: A serial and parallel dense solver. For now, we implement only the unsymmetric ScaL...">Amesos_Scalapack</a>  </td></tr>
<tr>
<td>LINUX (GNU), SERIAL </td><td>yes </td><td>yes </td><td>yes </td><td>yes </td><td>yes </td><td>no  </td></tr>
<tr>
<td>LINUX (Intel), MPI </td><td>yes </td><td>yes </td><td>yes </td><td>no </td><td>no </td><td>no  </td></tr>
<tr>
<td>LINUX (GNU), MPI </td><td>nightly  </td><td>nightly  </td><td>yes  </td><td>yes  </td><td>yes  </td><td>nightly   </td></tr>
<tr>
<td>SGI 64, MPI </td><td>nightly  </td><td>nightly  </td><td>nightly  </td><td>no  </td><td>no  </td><td>nightly  </td></tr>
<tr>
<td>DEC/Alpha MPI </td><td>nightly </td><td>nightly </td><td>nightly </td><td>no </td><td>no </td><td>no  </td></tr>
<tr>
<td>MAC OSX, SERIAL </td><td>no </td><td>yes </td><td>yes </td><td>no </td><td>yes </td><td>no  </td></tr>
<tr>
<td>MAC OSX, MPI </td><td>nightly </td><td>nightly </td><td>no </td><td>no </td><td>no </td><td>no  </td></tr>
<tr>
<td>Sun OS, MPI </td><td>nightly </td><td>yes </td><td>yes </td><td>no </td><td>no </td><td>no  </td></tr>
<tr>
<td>Sandia Cplant, MPI </td><td>no </td><td>yes </td><td>yes </td><td>no </td><td>no </td><td>no  </td></tr>
</table>
<table class="doxtable">
<tr>
<td>architecture </td><td><a class="el" href="classAmesos__Superlu.html" title="Amesos_Superlu: Amesos interface to Xioye Li&#39;s SuperLU 3.0 serial code.">Amesos_Superlu</a> </td><td><a class="el" href="classAmesos__Superludist.html" title="Amesos_Superludist: An object-oriented wrapper for Superludist.">Amesos_Superludist</a> </td><td><a class="el" href="classAmesos__Mumps.html" title="Amesos_Mumps: An object-oriented wrapper for the double precision version of MUMPS.">Amesos_Mumps</a> </td><td><a class="el" href="classAmesos__Dscpack.html" title="Amesos_Dscpack: An object-oriented wrapper for Dscpack.">Amesos_Dscpack</a>  </td></tr>
<tr>
<td>LINUX (GNU), SERIAL </td><td>yes </td><td>yes </td><td>no </td><td>yes  </td></tr>
<tr>
<td>LINUX (Intel), MPI </td><td>no </td><td>no </td><td>yes </td><td>no  </td></tr>
<tr>
<td>LINUX (GNU), MPI </td><td>nightly  </td><td>nightly  </td><td>no  </td><td>nightly   </td></tr>
<tr>
<td>SGI 64, MPI </td><td>yes </td><td>no </td><td>nightly  </td><td>nightly   </td></tr>
<tr>
<td>DEC/Alpha MPI </td><td>no </td><td>no </td><td>no </td><td>no  </td></tr>
<tr>
<td>MAC OSX, SERIAL </td><td>yes </td><td>no </td><td>no </td><td>no  </td></tr>
<tr>
<td>MAC OSX, MPI </td><td>no </td><td>no </td><td>no </td><td>no  </td></tr>
<tr>
<td>Sun OS, MPI </td><td>nightly </td><td>no </td><td>no </td><td>nightly  </td></tr>
<tr>
<td>Sandia Cplant, MPI </td><td>yes </td><td>yes </td><td>no </td><td>no  </td></tr>
</table>
<p>Once <a class="el" href="classAmesos.html" title="Factory for binding a third party direct solver to an Epetra_LinearProblem.">Amesos</a> has been compiled, it can be tested using the example <code>compare_solvers.exe</code>, as follows: </p><div class="fragment"><div class="line">% cd amesos/example</div>
<div class="line">% make</div>
<div class="line">% ./compare_solvers.exe</div>
</div><!-- fragment --><p> or, using MPI, </p><div class="fragment"><div class="line">% mpirun -np 4 ./compare_solvers.exe</div>
</div><!-- fragment --><p> This will test all the supported solvers on an example matrix.</p>
<h1><a class="anchor" id="am_example"></a>
Example of Use of Amesos Classes</h1>
<p>A simple fragment of code using <a class="el" href="classAmesos.html" title="Factory for binding a third party direct solver to an Epetra_LinearProblem.">Amesos</a> can read as follows. First, we need to include the header files for <a class="el" href="classAmesos.html" title="Factory for binding a third party direct solver to an Epetra_LinearProblem.">Amesos</a>:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;Amesos.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="Amesos__BaseSolver_8h.html">Amesos_BaseSolver.h</a>&quot;</span></div>
<div class="ttc" id="aAmesos__BaseSolver_8h_html"><div class="ttname"><a href="Amesos__BaseSolver_8h.html">Amesos_BaseSolver.h</a></div></div>
</div><!-- fragment --><p>Note that these header files will <em>not</em> include the header files for the supported libraries (which are of course needed to compile the <a class="el" href="classAmesos.html" title="Factory for binding a third party direct solver to an Epetra_LinearProblem.">Amesos</a> library itself). Now, let define the linear system matrix, the vector that will contain the solution, and the right-hand side as:</p>
<div class="fragment"><div class="line">Epetra_LinearProblem Problem;</div>
<div class="line">Epetra_RowMatrix* A;            <span class="comment">// linear system matrix</span></div>
<div class="line">Epetra_MultiVector* LHS;        <span class="comment">// vector that will contain the solution</span></div>
<div class="line">Epetra_MultiVector* RHS;        <span class="comment">// right-hand side</span></div>
</div><!-- fragment --><p>All <a class="el" href="classAmesos.html" title="Factory for binding a third party direct solver to an Epetra_LinearProblem.">Amesos</a> object (derived from pure virtual class <a class="el" href="classAmesos__BaseSolver.html" title="Amesos_BaseSolver: A pure virtual class for direct solution of real-valued double-precision operators...">Amesos_BaseSolver</a>) can be created using the function class <code><a class="el" href="classAmesos.html" title="Factory for binding a third party direct solver to an Epetra_LinearProblem.">Amesos</a></code>, as follows:</p>
<div class="fragment"><div class="line"><a class="code hl_class" href="classAmesos__BaseSolver.html">Amesos_BaseSolver</a> * Solver;</div>
<div class="line"><a class="code hl_class" href="classAmesos.html">Amesos</a> Factory;</div>
<div class="line"><span class="keywordtype">char</span>* SolverType = <span class="stringliteral">&quot;Amesos_Klu&quot;</span>;</div>
<div class="line">Solver = Factory.<a class="code hl_function" href="classAmesos.html#a57272d41cf59138dd51b530eb9fd90c9">Create</a>(SolverType, *Problem);</div>
<div class="ttc" id="aclassAmesos__BaseSolver_html"><div class="ttname"><a href="classAmesos__BaseSolver.html">Amesos_BaseSolver</a></div><div class="ttdoc">Amesos_BaseSolver: A pure virtual class for direct solution of real-valued double-precision operators...</div><div class="ttdef"><b>Definition</b> Amesos_BaseSolver.h:231</div></div>
<div class="ttc" id="aclassAmesos_html"><div class="ttname"><a href="classAmesos.html">Amesos</a></div><div class="ttdoc">Factory for binding a third party direct solver to an Epetra_LinearProblem.</div><div class="ttdef"><b>Definition</b> Amesos.h:50</div></div>
<div class="ttc" id="aclassAmesos_html_a57272d41cf59138dd51b530eb9fd90c9"><div class="ttname"><a href="classAmesos.html#a57272d41cf59138dd51b530eb9fd90c9">Amesos::Create</a></div><div class="ttdeci">Amesos_BaseSolver * Create(const char *ClassType, const Epetra_LinearProblem &amp;LinearProblem)</div><div class="ttdoc">Amesos Create method.</div><div class="ttdef"><b>Definition</b> Amesos.cpp:72</div></div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>It is important to note that all available solvers can be selected simply by changing an input parameter. Some solvers are serial, other parallel; generally, each solver has its own matrix format. However, the user will still have the <em>same</em> interface to all of them.</dd></dl>
<p>The <code>Factory</code> object will create an <a class="el" href="classAmesos__Klu.html" title="Amesos_Klu: A serial, unblocked code ideal for getting started and for very sparse matrices,...">Amesos_Klu</a> object (if <a class="el" href="classAmesos.html" title="Factory for binding a third party direct solver to an Epetra_LinearProblem.">Amesos</a> has been configure to support this solver). <code>Factory.Create()</code> returns 0 if the requested solver is not available. Parameter names are case-sensitive; misspelled parameters will not be recognized. Method <code>Factory.Query()</code> can be used to query the factory about the availability of a given solver: </p><div class="fragment"><div class="line"><span class="keywordtype">char</span>* SolverType = <span class="stringliteral">&quot;Amesos_Klu&quot;</span>;</div>
<div class="line"><span class="keywordtype">bool</span> IsAvailable = Factory.<a class="code hl_function" href="classAmesos.html#a9929aa33f9b760a4a3a04dba8f9a75b1">Query</a>(SolverType);</div>
<div class="ttc" id="aclassAmesos_html_a9929aa33f9b760a4a3a04dba8f9a75b1"><div class="ttname"><a href="classAmesos.html#a9929aa33f9b760a4a3a04dba8f9a75b1">Amesos::Query</a></div><div class="ttdeci">bool Query(const char *ClassType)</div><div class="ttdoc">Queries whether a given interface is available or not.</div><div class="ttdef"><b>Definition</b> Amesos.cpp:205</div></div>
</div><!-- fragment --><p>Here, we simply recall that the parameters list can be created as </p><div class="fragment"><div class="line">Teuchos::ParameterList List;</div>
</div><!-- fragment --><p>and parameters can be set as</p>
<div class="fragment"><div class="line">List.set(ParameterName,ParameterValue);</div>
</div><!-- fragment --><p>Here, <code>ParameterName</code> is a string containing the parameter name, and <code>ParameterValue</code> is any valid C++ object that specifies the parameter value (for instance, an integer, a pointer to an array or to an object). Please consult the <a class="el" href="classAmesos.html" title="Factory for binding a third party direct solver to an Epetra_LinearProblem.">Amesos</a> Reference Guide for more details. The Doxygen documentation of each class can also be of help.</p>
<p>Note that <code>Problem</code> is still empty. After setting the pointer to the linear system matrix, we can perform the symbolic factorization of the linear system matrix:</p>
<div class="fragment"><div class="line">AMESOS_CHK_ERR(Solver-&gt;<a class="code hl_function" href="classAmesos__BaseSolver.html#a8c7d37f010f456e73fecff141362cd6f">SymbolicFactorization</a>());</div>
<div class="ttc" id="aclassAmesos__BaseSolver_html_a8c7d37f010f456e73fecff141362cd6f"><div class="ttname"><a href="classAmesos__BaseSolver.html#a8c7d37f010f456e73fecff141362cd6f">Amesos_BaseSolver::SymbolicFactorization</a></div><div class="ttdeci">virtual int SymbolicFactorization()=0</div><div class="ttdoc">Performs SymbolicFactorization on the matrix A.</div></div>
</div><!-- fragment --><p>(<code>AMESOS_CHK_ERR</code> is a macro, that checks the return error and, if not null, prints out a message and returns.) This phase does not require the numerical values of <code>A</code>, that can therefore be changed after the call to <code>SymbolicFactorization()</code>. However, the nonzero pattern of <code>A</code> <em>cannot</em> be changed.</p>
<p>The numeric factorization is performed by</p>
<div class="fragment"><div class="line">AMESOS_CHK_ERR(Solver-&gt;<a class="code hl_function" href="classAmesos__BaseSolver.html#a889d3a41a25a09d5ab22bcdcaf188bd4">NumericFactorization</a>());</div>
<div class="ttc" id="aclassAmesos__BaseSolver_html_a889d3a41a25a09d5ab22bcdcaf188bd4"><div class="ttname"><a href="classAmesos__BaseSolver.html#a889d3a41a25a09d5ab22bcdcaf188bd4">Amesos_BaseSolver::NumericFactorization</a></div><div class="ttdeci">virtual int NumericFactorization()=0</div><div class="ttdoc">Performs NumericFactorization on the matrix A.</div></div>
</div><!-- fragment --><p>The values of <code>RHS</code> must be set before solving the linear system, which simply reads</p>
<div class="fragment"><div class="line">Problem.SetLHS(LHS);</div>
<div class="line">Problem.SetRHS(RHS);</div>
<div class="line">AMESOS_CHK_ERR(Solver-&gt;<a class="code hl_function" href="classAmesos__BaseSolver.html#a26d1a31bac2d1a734d00ba239c259c39">Solve</a>());</div>
<div class="ttc" id="aclassAmesos__BaseSolver_html_a26d1a31bac2d1a734d00ba239c259c39"><div class="ttname"><a href="classAmesos__BaseSolver.html#a26d1a31bac2d1a734d00ba239c259c39">Amesos_BaseSolver::Solve</a></div><div class="ttdeci">virtual int Solve()=0</div><div class="ttdoc">Solves A X = B (or AT x = B)</div></div>
</div><!-- fragment --><p>Should the user need to re-factorize the matrix, he or she must call <code>NumericFactorization()</code>. If the structure of the matrix is changed, he or she must call <code>SymbolicFactorization()</code>. However, it is supposed that the linear system matrix and the solution and right-hand side vectors are still defined with the same <code>Epetra_Map</code>.</p>
<p>Please consult the examples reported in the amesos/example subdirectory:</p><ul>
<li><a class="el" href="am_factory.html">am_factory</a> shows the use of the <a class="el" href="classAmesos.html" title="Factory for binding a third party direct solver to an Epetra_LinearProblem.">Amesos</a> factory class;</li>
<li><a class="el" href="am_compare.html">am_compare</a> reports how to compare the time required by different solvers;</li>
<li><a class="el" href="am_hb.html">am_hb</a> details how to read a Harwell/Boeing matrix</li>
</ul>
<h1><a class="anchor" id="am_browser"></a>
Browse all of Amesos as a single doxygen collection</h1>
<p>You can browse all of <a class="el" href="classAmesos.html" title="Factory for binding a third party direct solver to an Epetra_LinearProblem.">Amesos</a> as a <a href="../../browser/doc/html/index.html">single doxygen collection</a>. Warning, this is not the recommended way to learn about <a class="el" href="classAmesos.html" title="Factory for binding a third party direct solver to an Epetra_LinearProblem.">Amesos</a> software. However, this is a good way to browse the <a href="../../browser/doc/html/dirs.html">directory structure of amesos</a>, to <a href="../../browser/doc/html/files.html">locate files</a>, etc.</p>
<h1><a class="anchor" id="am_python"></a>
Python support</h1>
<p><a class="el" href="classAmesos.html" title="Factory for binding a third party direct solver to an Epetra_LinearProblem.">Amesos</a> has an interface to PyTrilinos, and therefore all the enabled third-party libraries can be used within Python to solve problems defined using Python/Epetra objects. Please refer to the PyTrilinos documentation <a href="http://trilinos.sandia.gov/packages/pytrilinos/overview.html">http://trilinos.sandia.gov/packages/pytrilinos/overview.html</a> for more details.</p>
<h1><a class="anchor" id="am_thyra"></a>
Thyra support</h1>
<p>The <a class="el" href="classAmesos.html" title="Factory for binding a third party direct solver to an Epetra_LinearProblem.">Amesos</a> to Thyra Linear Solver Adapters in Stratimikos take <code>Thyra::LinearOpBase</code> objects that wrap <code>Epetra_Operator</code> objects and turn them into <code>Thyra::LinearOpWithSolveBase</code> objects which can then be used to solve linear systems using <code><a class="el" href="classAmesos__BaseSolver.html" title="Amesos_BaseSolver: A pure virtual class for direct solution of real-valued double-precision operators...">Amesos_BaseSolver</a></code> implementations. Please refer to the Stratimikos documentation <a href="http://trilinos.sandia.gov/packages/stratimikos/documentation.html">http://trilinos.sandia.gov/packages/stratimikos/documentation.html</a> for more details.</p>
<h1><a class="anchor" id="am_future"></a>
Known bugs and future developments</h1>
<h2><a class="anchor" id="old_incompatibilities"></a>
Incompatibility between old versions of SuperLU</h2>
<p>Versions of Superlu and Superludist prior to August 2005 exhibit some mutual incompatibility as well as incompatbility with KLU and UMFPACK. <br  />
</p>
<p>Depending on the version of SuperLU and SuperLU_DIST, you may or may not configure <a class="el" href="classAmesos.html" title="Factory for binding a third party direct solver to an Epetra_LinearProblem.">Amesos</a> with support for both. This is due to conflicts in the header files of SuperLU/SuperLU_DIST. <br  />
</p>
<h2><a class="anchor" id="known_bugs"></a>
bugs</h2>
<pre class="fragment">&lt;p&gt; Amesos_Dscpack has memory leaks, prints to standard out and may 
</pre><p> crash if SymbolicFactorization() is called multiple times on the same <a class="el" href="classAmesos.html" title="Factory for binding a third party direct solver to an Epetra_LinearProblem.">Amesos</a> object. </p>
<p><a class="el" href="classAmesos.html" title="Factory for binding a third party direct solver to an Epetra_LinearProblem.">Amesos</a> packages other than <a class="el" href="classAmesos__Klu.html" title="Amesos_Klu: A serial, unblocked code ideal for getting started and for very sparse matrices,...">Amesos_Klu</a> do not accept non-standard maps (e.g. one with indices {1,2,5,8,9, ... } ) </p>
<p><a class="el" href="classAmesos.html" title="Factory for binding a third party direct solver to an Epetra_LinearProblem.">Amesos</a> packages other than <a class="el" href="classAmesos__Klu.html" title="Amesos_Klu: A serial, unblocked code ideal for getting started and for very sparse matrices,...">Amesos_Klu</a> do not accept range and domain maps which differ from the matrix map </p>
<p>Superludist fails on some matrices </p>
<p>Error handling on singular and near singular matrices is inconsistent</p>
<h1><a class="anchor" id="am_final"></a>
Final Remarks</h1>
<p>This page is maintained by Marzio Sala, SNL 9214 and Ken Stanley. </p>
<p>This page last updated 26-Aug-05. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
