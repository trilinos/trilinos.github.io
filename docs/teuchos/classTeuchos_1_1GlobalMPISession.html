<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Teuchos - Trilinos Tools Package: Teuchos::GlobalMPISession Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Teuchos - Trilinos Tools Package<span id="projectnumber">&#160;Version of the Day</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceTeuchos.html">Teuchos</a></li><li class="navelem"><a class="el" href="classTeuchos_1_1GlobalMPISession.html">GlobalMPISession</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="classTeuchos_1_1GlobalMPISession-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">Teuchos::GlobalMPISession Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Initialize, finalize, and query the global MPI session.  
 <a href="classTeuchos_1_1GlobalMPISession.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="Teuchos__GlobalMPISession_8hpp_source.html">Teuchos_GlobalMPISession.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Public constructor and destructor</div></td></tr>
<tr class="memitem:a1b27c39343f92ac39c448133f3f4810f" id="r_a1b27c39343f92ac39c448133f3f4810f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTeuchos_1_1GlobalMPISession.html#a1b27c39343f92ac39c448133f3f4810f">GlobalMPISession</a> (<a class="el" href="classTeuchos_1_1RCP.html">int</a> *<a class="el" href="classTeuchos_1_1RCP.html">argc</a>, <a class="el" href="classTeuchos_1_1RCP.html">char</a> ***<a class="el" href="classTeuchos_1_1RCP.html">argv</a>, std::ostream *out=&amp;std::cout)</td></tr>
<tr class="memdesc:a1b27c39343f92ac39c448133f3f4810f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calls <code>MPI_Init()</code> if MPI is enabled.  <br /></td></tr>
<tr class="separator:a1b27c39343f92ac39c448133f3f4810f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac790f167e594ac27abbaf90a6a3ddc99" id="r_ac790f167e594ac27abbaf90a6a3ddc99"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTeuchos_1_1GlobalMPISession.html#ac790f167e594ac27abbaf90a6a3ddc99">~GlobalMPISession</a> ()</td></tr>
<tr class="memdesc:ac790f167e594ac27abbaf90a6a3ddc99"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call <code>MPI_Finalize()</code> if MPI is enabled.  <br /></td></tr>
<tr class="separator:ac790f167e594ac27abbaf90a6a3ddc99"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Static functions</h2></td></tr>
<tr class="memitem:a0759b0c5135424f6617c7e3de0166c1e" id="r_a0759b0c5135424f6617c7e3de0166c1e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classTeuchos_1_1RCP.html">static</a> <a class="el" href="classTeuchos_1_1RCP.html">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTeuchos_1_1GlobalMPISession.html#a0759b0c5135424f6617c7e3de0166c1e">abort</a> ()</td></tr>
<tr class="memdesc:a0759b0c5135424f6617c7e3de0166c1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">abort the program  <br /></td></tr>
<tr class="separator:a0759b0c5135424f6617c7e3de0166c1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b365994186b23d48a0d972d8bac1178" id="r_a4b365994186b23d48a0d972d8bac1178"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classTeuchos_1_1RCP.html">static</a> <a class="el" href="classTeuchos_1_1RCP.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTeuchos_1_1GlobalMPISession.html#a4b365994186b23d48a0d972d8bac1178">mpiIsInitialized</a> ()</td></tr>
<tr class="memdesc:a4b365994186b23d48a0d972d8bac1178"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return whether MPI was initialized.  <br /></td></tr>
<tr class="separator:a4b365994186b23d48a0d972d8bac1178"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f5b947725d81e76c45ebfa2d2ac9fbe" id="r_a7f5b947725d81e76c45ebfa2d2ac9fbe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classTeuchos_1_1RCP.html">static</a> <a class="el" href="classTeuchos_1_1RCP.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTeuchos_1_1GlobalMPISession.html#a7f5b947725d81e76c45ebfa2d2ac9fbe">mpiIsFinalized</a> ()</td></tr>
<tr class="memdesc:a7f5b947725d81e76c45ebfa2d2ac9fbe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return whether MPI was already finalized.  <br /></td></tr>
<tr class="separator:a7f5b947725d81e76c45ebfa2d2ac9fbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bffffa883a6c0b20ce5dfafcbe71f38" id="r_a0bffffa883a6c0b20ce5dfafcbe71f38"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classTeuchos_1_1RCP.html">static</a> <a class="el" href="classTeuchos_1_1RCP.html">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTeuchos_1_1GlobalMPISession.html#a0bffffa883a6c0b20ce5dfafcbe71f38">getRank</a> ()</td></tr>
<tr class="memdesc:a0bffffa883a6c0b20ce5dfafcbe71f38"><td class="mdescLeft">&#160;</td><td class="mdescRight">The rank of the calling process in <code>MPI_COMM_WORLD</code>.  <br /></td></tr>
<tr class="separator:a0bffffa883a6c0b20ce5dfafcbe71f38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20f86b4773ad754560336a8c0611e2b5" id="r_a20f86b4773ad754560336a8c0611e2b5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classTeuchos_1_1RCP.html">static</a> <a class="el" href="classTeuchos_1_1RCP.html">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTeuchos_1_1GlobalMPISession.html#a20f86b4773ad754560336a8c0611e2b5">getNProc</a> ()</td></tr>
<tr class="memdesc:a20f86b4773ad754560336a8c0611e2b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of processes in <code>MPI_COMM_WORLD</code>.  <br /></td></tr>
<tr class="separator:a20f86b4773ad754560336a8c0611e2b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0aa2322856997cd8f57482779ea64d11" id="r_a0aa2322856997cd8f57482779ea64d11"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classTeuchos_1_1RCP.html">static</a> <a class="el" href="classTeuchos_1_1RCP.html">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTeuchos_1_1GlobalMPISession.html#a0aa2322856997cd8f57482779ea64d11">barrier</a> ()</td></tr>
<tr class="memdesc:a0aa2322856997cd8f57482779ea64d11"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call MPI_Barrier() on <code>MPI_COMM_WORLD</code>.  <br /></td></tr>
<tr class="separator:a0aa2322856997cd8f57482779ea64d11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0539813777c6cc22133dbbc11aff7511" id="r_a0539813777c6cc22133dbbc11aff7511"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classTeuchos_1_1RCP.html">static</a> <a class="el" href="classTeuchos_1_1RCP.html">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTeuchos_1_1GlobalMPISession.html#a0539813777c6cc22133dbbc11aff7511">sum</a> (<a class="el" href="classTeuchos_1_1RCP.html">int</a> <a class="el" href="classTeuchos_1_1RCP.html">localVal</a>)</td></tr>
<tr class="memdesc:a0539813777c6cc22133dbbc11aff7511"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sum a set of integers across processes.  <br /></td></tr>
<tr class="separator:a0539813777c6cc22133dbbc11aff7511"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab096013d294c003262d9c3d255af7079" id="r_ab096013d294c003262d9c3d255af7079"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classTeuchos_1_1RCP.html">static</a> <a class="el" href="classTeuchos_1_1RCP.html">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTeuchos_1_1GlobalMPISession.html#ab096013d294c003262d9c3d255af7079">allGather</a> (<a class="el" href="classTeuchos_1_1RCP.html">int</a> <a class="el" href="classTeuchos_1_1RCP.html">localVal</a>, <a class="el" href="classTeuchos_1_1RCP.html">const</a> <a class="el" href="classTeuchos_1_1ArrayView.html">ArrayView</a>&lt; <a class="el" href="classTeuchos_1_1RCP.html">int</a> &gt; &amp;<a class="el" href="classTeuchos_1_1RCP.html">allVals</a>)</td></tr>
<tr class="memdesc:ab096013d294c003262d9c3d255af7079"><td class="mdescLeft">&#160;</td><td class="mdescRight">Global all-to-all of a set of integers across processes.  <br /></td></tr>
<tr class="separator:ab096013d294c003262d9c3d255af7079"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Initialize, finalize, and query the global MPI session. </p>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code hl_class" href="classTeuchos_1_1RCP.html">main</a> () {</div>
<div class="line">  (<a class="code hl_class" href="classTeuchos_1_1RCP.html">void</a>) <a class="code hl_class" href="classTeuchos_1_1RCP.html">MPI_Init</a> (&amp;<a class="code hl_class" href="classTeuchos_1_1RCP.html">argc</a>, &amp;<a class="code hl_class" href="classTeuchos_1_1RCP.html">argv</a>);</div>
<div class="line">  <span class="comment">// Your code goes here ...</span></div>
<div class="line">  (<a class="code hl_class" href="classTeuchos_1_1RCP.html">void</a>) <a class="code hl_class" href="classTeuchos_1_1RCP.html">MPI_Finalize</a> ();</div>
<div class="line">  <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="ttc" id="aclassTeuchos_1_1RCP_html"><div class="ttname"><a href="classTeuchos_1_1RCP.html">Teuchos::RCP</a></div><div class="ttdoc">Smart reference counting pointer class for automatic garbage collection.</div><div class="ttdef"><b>Definition</b> <a href="Teuchos__RCPDecl_8hpp_source.html#l00397">Teuchos_RCPDecl.hpp:397</a></div></div>
</div><!-- fragment --><p> you would write: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="Teuchos__GlobalMPISession_8hpp.html">Teuchos_GlobalMPISession.hpp</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> <a class="code hl_class" href="classTeuchos_1_1RCP.html">main</a> () {</div>
<div class="line">  <a class="code hl_class" href="classTeuchos_1_1GlobalMPISession.html">Teuchos::GlobalMPISession</a> <a class="code hl_class" href="classTeuchos_1_1RCP.html">mpiSession</a>(&amp;<a class="code hl_class" href="classTeuchos_1_1RCP.html">argc</a>, &amp;<a class="code hl_class" href="classTeuchos_1_1RCP.html">argv</a>, <a class="code hl_class" href="classTeuchos_1_1RCP.html">NULL</a>);</div>
<div class="line">  <span class="comment">// Your code goes here ...</span></div>
<div class="line">  <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="ttc" id="aTeuchos__GlobalMPISession_8hpp_html"><div class="ttname"><a href="Teuchos__GlobalMPISession_8hpp.html">Teuchos_GlobalMPISession.hpp</a></div><div class="ttdoc">A MPI utilities class, providing methods for initializing, finalizing, and querying the global MPI se...</div></div>
<div class="ttc" id="aclassTeuchos_1_1GlobalMPISession_html"><div class="ttname"><a href="classTeuchos_1_1GlobalMPISession.html">Teuchos::GlobalMPISession</a></div><div class="ttdoc">Initialize, finalize, and query the global MPI session.</div><div class="ttdef"><b>Definition</b> <a href="Teuchos__GlobalMPISession_8hpp_source.html#l00081">Teuchos_GlobalMPISession.hpp:82</a></div></div>
</div><!-- fragment --><p>This saves you from needing to remember to call MPI_Init() or MPI_Finalize(). Also, having the <a class="el" href="classTeuchos_1_1GlobalMPISession.html" title="Initialize, finalize, and query the global MPI session.">GlobalMPISession</a> object's constructor call MPI_Finalize() allows destructors from other objects to call MPI functions. That wold never be possible if you were to directly call MPI_Finalize() at the end of main().</p>
<p>This class even works if you have not built <a class="el" href="namespaceTeuchos.html" title="The Teuchos namespace contains all of the classes, structs and enums used by Teuchos,...">Teuchos</a> with MPI support. In that case, it behaves as if MPI_COMM_WORLD had one process, which is always the calling process. Thus, you can use this class to insulate your code from needing to know about MPI. You don't even have to include mpi.h, as long as your code doesn't directly use MPI routines or types. <a class="el" href="namespaceTeuchos.html" title="The Teuchos namespace contains all of the classes, structs and enums used by Teuchos,...">Teuchos</a> implements wrappers for MPI communicators (see the <a class="el" href="classTeuchos_1_1Comm.html" title="Abstract interface for distributed-memory communication.">Teuchos::Comm</a> class and its subclasses in the TeuchosComm subpackage) which allow you to use a very very small subset of MPI functionality without needing to include mpi.h or depend on MPI in any way.</p>
<p>This class also contains the most minimal of other static member functions that are needed for only the most simplistic of tasks needed by other TeuchosCore software. For example, you can do a barrier or sum an int across processes. These are needed by the most basic operations involving output or determining success or failure across processes for unit tests.</p>
<p><a class="el" href="classTeuchos_1_1GlobalMPISession.html" title="Initialize, finalize, and query the global MPI session.">GlobalMPISession</a>'s static functions cleverly checks whether MPI has been initialized already before calling any MPI functions. Therefore, you can use it in your libraries without requiring that a <a class="el" href="classTeuchos_1_1GlobalMPISession.html" title="Initialize, finalize, and query the global MPI session.">GlobalMPISession</a> object was created in main().</p>
<p>This class insulates basic <code>main()</code> program type of code from having to know if MPI is enabled or not. The typical use case is to replace an explicit call to MPI_Init() in your main() routine with creation of a <a class="el" href="classTeuchos_1_1GlobalMPISession.html" title="Initialize, finalize, and query the global MPI session.">GlobalMPISession</a> instance. The instance's destructor (which in this case will be called at the end of main()) then calls MPI_Finalize(). So, instead of writing: </p>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="ArrayRCP_test_8cpp-example.html#_a13">ArrayRCP_test.cpp</a>, <a class="el" href="CommandLineProcessor_2cxx_main_8cpp-example.html#_a0">CommandLineProcessor/cxx_main.cpp</a>, <a class="el" href="FancyOutputting_test_8cpp-example.html#_a13">FancyOutputting_test.cpp</a>, and <a class="el" href="test_2MemoryManagement_2RCP_test_8cpp-example.html#_a6">test/MemoryManagement/RCP_test.cpp</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="Teuchos__GlobalMPISession_8hpp_source.html#l00081">81</a> of file <a class="el" href="Teuchos__GlobalMPISession_8hpp_source.html">Teuchos_GlobalMPISession.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a1b27c39343f92ac39c448133f3f4810f" name="a1b27c39343f92ac39c448133f3f4810f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b27c39343f92ac39c448133f3f4810f">&#9670;&#160;</a></span>GlobalMPISession()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Teuchos::GlobalMPISession::GlobalMPISession </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTeuchos_1_1RCP.html">int</a> *&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classTeuchos_1_1RCP.html">char</a> ***&#160;</td>
          <td class="paramname"><em>argv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::ostream *&#160;</td>
          <td class="paramname"><em>out</em> = <code>&amp;std::cout</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calls <code>MPI_Init()</code> if MPI is enabled. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">argc</td><td>[in] Address of the argument passed into <code>main(argc,argv)</code>. Same as the first argument of MPI_Init().</td></tr>
    <tr><td class="paramname">argv</td><td>[in] Address of the argument passed into <code>main(argc,argv)</code>. Same as the second argument of MPI_Init().</td></tr>
    <tr><td class="paramname">out</td><td>[in] If <code> out != NULL</code>, then a small message on will be printed to this stream on <em>each</em> process in <code>MPI_COMM_WORLD</code>. The default is <code>&amp;std::cout</code>.</td></tr>
  </table>
  </dd>
</dl>
<p>If the command-line arguments include the option <code>&ndash;teuchos-suppress-startup-banner</code>, the this option will be removed from <code>argv[]</code> before being passed to <code>MPI_Init(...)</code>, and the startup output message to <code>*out</code> will be suppressed.</p>
<p>If <a class="el" href="namespaceTeuchos.html" title="The Teuchos namespace contains all of the classes, structs and enums used by Teuchos,...">Teuchos</a> was <em>not</em> built with MPI support, the constructor just prints a startup banner (unless the banner was suppressed &ndash; see previous paragraph).</p>
<dl class="section warning"><dt>Warning</dt><dd>The default third parameter may result in a lot of lines printed to std::cout, if <code>MPI_COMM_WORLD</code> is large! Users should generally pass in <code>NULL</code> for the third argument. On the other hand, it can be useful to see that startup banner, just to know that MPI is working.</dd>
<dd>
If MPI_Initialized() returns true before calling this constructor, then a error message is printed to <code>*out</code> std::terminate() is called. This is the only sane behavior for this constuctor. The very nature of the GlboalMPISession object is to be constructed at the tope of main() outside of a try {} block. If MPI can't be initialized, then the only thing to do is to abort the program. It would not be reasonble to simply not not call MPI_Initialize() becuase this would ignore the input arguments that the user (you) should be expecting to be read.</dd>
<dd>
Any other MPI functions called direclty from within this constructor will result in an error message to be printed and for abort to be called. </dd></dl>

<p class="definition">Definition at line <a class="el" href="Teuchos__GlobalMPISession_8cpp_source.html#l00043">43</a> of file <a class="el" href="Teuchos__GlobalMPISession_8cpp_source.html">Teuchos_GlobalMPISession.cpp</a>.</p>

</div>
</div>
<a id="ac790f167e594ac27abbaf90a6a3ddc99" name="ac790f167e594ac27abbaf90a6a3ddc99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac790f167e594ac27abbaf90a6a3ddc99">&#9670;&#160;</a></span>~GlobalMPISession()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Teuchos::GlobalMPISession::~GlobalMPISession </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Call <code>MPI_Finalize()</code> if MPI is enabled. </p>

<p class="definition">Definition at line <a class="el" href="Teuchos__GlobalMPISession_8cpp_source.html#l00155">155</a> of file <a class="el" href="Teuchos__GlobalMPISession_8cpp_source.html">Teuchos_GlobalMPISession.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a0759b0c5135424f6617c7e3de0166c1e" name="a0759b0c5135424f6617c7e3de0166c1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0759b0c5135424f6617c7e3de0166c1e">&#9670;&#160;</a></span>abort()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classTeuchos_1_1RCP.html">void</a> Teuchos::GlobalMPISession::abort </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>abort the program </p>
<p>Calls MPI_Abort for HAVE_MPI Otherwise calls std::abort </p>

<p class="definition">Definition at line <a class="el" href="Teuchos__GlobalMPISession_8cpp_source.html#l00180">180</a> of file <a class="el" href="Teuchos__GlobalMPISession_8cpp_source.html">Teuchos_GlobalMPISession.cpp</a>.</p>

</div>
</div>
<a id="a4b365994186b23d48a0d972d8bac1178" name="a4b365994186b23d48a0d972d8bac1178"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b365994186b23d48a0d972d8bac1178">&#9670;&#160;</a></span>mpiIsInitialized()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classTeuchos_1_1RCP.html">bool</a> Teuchos::GlobalMPISession::mpiIsInitialized </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return whether MPI was initialized. </p>
<p>This is always true if the constructor returned. If the constructor was not called, it may or may not be true, depending on whether the user called MPI_Init() themselves. If the constructor was called but threw an exception, then some MPI function returned an error code. </p>

<p class="definition">Definition at line <a class="el" href="Teuchos__GlobalMPISession_8cpp_source.html#l00189">189</a> of file <a class="el" href="Teuchos__GlobalMPISession_8cpp_source.html">Teuchos_GlobalMPISession.cpp</a>.</p>

</div>
</div>
<a id="a7f5b947725d81e76c45ebfa2d2ac9fbe" name="a7f5b947725d81e76c45ebfa2d2ac9fbe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f5b947725d81e76c45ebfa2d2ac9fbe">&#9670;&#160;</a></span>mpiIsFinalized()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classTeuchos_1_1RCP.html">bool</a> Teuchos::GlobalMPISession::mpiIsFinalized </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return whether MPI was already finalized. </p>
<p>This is always true if the destructor was called. If the destructor was not called, it may or may not be true, depending on whether the user called MPI_Init() themselves. </p>

<p class="definition">Definition at line <a class="el" href="Teuchos__GlobalMPISession_8cpp_source.html#l00195">195</a> of file <a class="el" href="Teuchos__GlobalMPISession_8cpp_source.html">Teuchos_GlobalMPISession.cpp</a>.</p>

</div>
</div>
<a id="a0bffffa883a6c0b20ce5dfafcbe71f38" name="a0bffffa883a6c0b20ce5dfafcbe71f38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0bffffa883a6c0b20ce5dfafcbe71f38">&#9670;&#160;</a></span>getRank()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classTeuchos_1_1RCP.html">int</a> Teuchos::GlobalMPISession::getRank </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The rank of the calling process in <code>MPI_COMM_WORLD</code>. </p>
<dl class="section return"><dt>Returns</dt><dd><code>0</code> if MPI has not yet been initialized, else the rank of the calling process in <code>MPI_COMM_WORLD</code>.</dd></dl>
<p>You may call this method even if the constructor was never called. Thus, it is safe to use no matter how MPI_Init() was called. However, MPI_Init() must have been called somehow in order for this method to return a sensible result. </p>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="CommandLineProcessor_2cxx_main_8cpp-example.html#a1">CommandLineProcessor/cxx_main.cpp</a>, and <a class="el" href="test_2MemoryManagement_2RCP_test_8cpp-example.html#a7">test/MemoryManagement/RCP_test.cpp</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="Teuchos__GlobalMPISession_8cpp_source.html#l00201">201</a> of file <a class="el" href="Teuchos__GlobalMPISession_8cpp_source.html">Teuchos_GlobalMPISession.cpp</a>.</p>

</div>
</div>
<a id="a20f86b4773ad754560336a8c0611e2b5" name="a20f86b4773ad754560336a8c0611e2b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20f86b4773ad754560336a8c0611e2b5">&#9670;&#160;</a></span>getNProc()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classTeuchos_1_1RCP.html">int</a> Teuchos::GlobalMPISession::getNProc </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The number of processes in <code>MPI_COMM_WORLD</code>. </p>
<dl class="section return"><dt>Returns</dt><dd><code>1</code> if MPI has not yet been initialized, else the number of processes in <code>MPI_COMM_WORLD</code>.</dd></dl>
<p>You may call this method even if the constructor was never called. Thus, it is safe to use no matter how MPI_Init() was called. However, MPI_Init() must have been called somehow in order for this method to return a sensible result. </p>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="FancyOutputting_test_8cpp-example.html#a14">FancyOutputting_test.cpp</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="Teuchos__GlobalMPISession_8cpp_source.html#l00208">208</a> of file <a class="el" href="Teuchos__GlobalMPISession_8cpp_source.html">Teuchos_GlobalMPISession.cpp</a>.</p>

</div>
</div>
<a id="a0aa2322856997cd8f57482779ea64d11" name="a0aa2322856997cd8f57482779ea64d11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0aa2322856997cd8f57482779ea64d11">&#9670;&#160;</a></span>barrier()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classTeuchos_1_1RCP.html">void</a> Teuchos::GlobalMPISession::barrier </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Call MPI_Barrier() on <code>MPI_COMM_WORLD</code>. </p>
<p>This method must be called collectively on all processes in <code>MPI_COMM_WORLD</code>.</p>
<dl class="section note"><dt>Note</dt><dd>Users should invoke barrier through the <a class="el" href="classTeuchos_1_1Comm.html" title="Abstract interface for distributed-memory communication.">Teuchos::Comm</a> interface. We only expose this method for Teuchos-internal functionality. </dd></dl>

<p class="definition">Definition at line <a class="el" href="Teuchos__GlobalMPISession_8cpp_source.html#l00214">214</a> of file <a class="el" href="Teuchos__GlobalMPISession_8cpp_source.html">Teuchos_GlobalMPISession.cpp</a>.</p>

</div>
</div>
<a id="a0539813777c6cc22133dbbc11aff7511" name="a0539813777c6cc22133dbbc11aff7511"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0539813777c6cc22133dbbc11aff7511">&#9670;&#160;</a></span>sum()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classTeuchos_1_1RCP.html">int</a> Teuchos::GlobalMPISession::sum </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTeuchos_1_1RCP.html">int</a>&#160;</td>
          <td class="paramname"><em>localVal</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sum a set of integers across processes. </p>
<p>This performs an MPI_Allreduce() of localVal over <code>MPI_COMM_WORLD</code>, and returns the result (which is the same on all processes).</p>
<p>This method must be called collectively on all processes in <code>MPI_COMM_WORLD</code>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">localVal</td><td>[in] Value on local process to sum across processes. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The global sum (on all processes).</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Users should invoke reductions through the <a class="el" href="classTeuchos_1_1Comm.html" title="Abstract interface for distributed-memory communication.">Teuchos::Comm</a> interface. We only expose this method for Teuchos-internal functionality. </dd></dl>

<p class="definition">Definition at line <a class="el" href="Teuchos__GlobalMPISession_8cpp_source.html#l00223">223</a> of file <a class="el" href="Teuchos__GlobalMPISession_8cpp_source.html">Teuchos_GlobalMPISession.cpp</a>.</p>

</div>
</div>
<a id="ab096013d294c003262d9c3d255af7079" name="ab096013d294c003262d9c3d255af7079"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab096013d294c003262d9c3d255af7079">&#9670;&#160;</a></span>allGather()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classTeuchos_1_1RCP.html">void</a> Teuchos::GlobalMPISession::allGather </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTeuchos_1_1RCP.html">int</a>&#160;</td>
          <td class="paramname"><em>localVal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classTeuchos_1_1RCP.html">const</a> <a class="el" href="classTeuchos_1_1ArrayView.html">ArrayView</a>&lt; <a class="el" href="classTeuchos_1_1RCP.html">int</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>allVals</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Global all-to-all of a set of integers across processes. </p>
<p>This performs an MPI_Allgather() of localVal over <code>MPI_COMM_WORLD</code>, and writes the results (which are the same on all processes) to allVals.</p>
<p>This method must be called collectively on all processes in <code>MPI_COMM_WORLD</code>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">localVal</td><td>[in] Value on local process to pass to all processes.</td></tr>
    <tr><td class="paramname">allVals</td><td>[out] <a class="el" href="classTeuchos_1_1Array.html" title="Replacement for std::vector that is compatible with the Teuchos Memory Management classes.">Array</a> (length <a class="el" href="classTeuchos_1_1GlobalMPISession.html#a20f86b4773ad754560336a8c0611e2b5" title="The number of processes in MPI_COMM_WORLD.">getNProc()</a>) that gives the value of localVal for each process. On output, allVals[k] is localVal for process k. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="Teuchos__GlobalMPISession_8cpp_source.html#l00236">236</a> of file <a class="el" href="Teuchos__GlobalMPISession_8cpp_source.html">Teuchos_GlobalMPISession.cpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="Teuchos__GlobalMPISession_8hpp_source.html">Teuchos_GlobalMPISession.hpp</a></li>
<li><a class="el" href="Teuchos__GlobalMPISession_8cpp_source.html">Teuchos_GlobalMPISession.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
