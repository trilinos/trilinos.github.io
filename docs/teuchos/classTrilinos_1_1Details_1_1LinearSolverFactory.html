<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Teuchos - Trilinos Tools Package: Trilinos::Details::LinearSolverFactory&lt; MV, OP, NormType &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Teuchos - Trilinos Tools Package<span id="projectnumber">&#160;Version of the Day</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceTrilinos.html">Trilinos</a></li><li class="navelem"><b>Details</b></li><li class="navelem"><a class="el" href="classTrilinos_1_1Details_1_1LinearSolverFactory.html">LinearSolverFactory</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classTrilinos_1_1Details_1_1LinearSolverFactory-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">Trilinos::Details::LinearSolverFactory&lt; MV, OP, NormType &gt; Class Template Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div></div>
</div><!--header-->
<div class="contents">

<p>Interface for a "factory" that creates solvers.  
 <a href="classTrilinos_1_1Details_1_1LinearSolverFactory.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="Trilinos__Details__LinearSolverFactory_8hpp_source.html">Trilinos_Details_LinearSolverFactory.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a3dd55690625225637e82e86424866cfb" id="r_a3dd55690625225637e82e86424866cfb"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classTeuchos_1_1RCP.html">Teuchos::RCP</a>&lt; <a class="el" href="classTrilinos_1_1Details_1_1LinearSolver.html">LinearSolver</a>&lt; MV, OP, NormType &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTrilinos_1_1Details_1_1LinearSolverFactory.html#a3dd55690625225637e82e86424866cfb">getLinearSolver</a> (const std::string &amp;solverName)=0</td></tr>
<tr class="memdesc:a3dd55690625225637e82e86424866cfb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get an instance of a solver from a particular package.  <br /></td></tr>
<tr class="separator:a3dd55690625225637e82e86424866cfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><div class="compoundTemplParams">template&lt;class MV, class OP, class NormType&gt;<br />
class Trilinos::Details::LinearSolverFactory&lt; MV, OP, NormType &gt;</div><p>Interface for a "factory" that creates solvers. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">MV</td><td>Type of a (multi)vector, representing either the solution(s) X or the right-hand side(s) B of a linear system AX=B. For example, with Tpetra, use a Tpetra::MultiVector specialization. A <em>multivector</em> is a single data structure containing zero or more vectors with the same dimensions and layout.</td></tr>
    <tr><td class="paramname">OP</td><td>Type of a matrix or linear operator that the <a class="el" href="classTrilinos_1_1Details_1_1LinearSolver.html" title="Interface for a method for solving linear system(s) AX=B.">LinearSolver</a> to create understands. For example, for Tpetra, use a Tpetra::Operator specialization.</td></tr>
    <tr><td class="paramname">NormType</td><td>Type of the norm of the residual. See the documentation of <a class="el" href="classTrilinos_1_1Details_1_1LinearSolver.html" title="Interface for a method for solving linear system(s) AX=B.">LinearSolver</a> for details.</td></tr>
  </table>
  </dd>
</dl>
<p>Every package that implements solvers needs to implement a concrete <a class="el" href="classTrilinos_1_1Details_1_1LinearSolverFactory.html" title="Interface for a &quot;factory&quot; that creates solvers.">LinearSolverFactory</a> subclass as well. That subclass knows how to create all the solvers which that package implements. The package must register a <a class="el" href="classTrilinos_1_1Details_1_1LinearSolverFactory.html" title="Interface for a &quot;factory&quot; that creates solvers.">LinearSolverFactory</a> instance using <a class="el" href="Trilinos__Details__LinearSolverFactory_8hpp.html#a1753005d87a3117c49301cca7d0b276c" title="Called by a package to register its LinearSolverFactory.">registerLinearSolverFactory()</a> (see below). Then, any package may access that package's solvers, using <a class="el" href="classTrilinos_1_1Details_1_1LinearSolverFactory.html#a3dd55690625225637e82e86424866cfb" title="Get an instance of a solver from a particular package.">getLinearSolver()</a> (see above).</p>
<p>You do not need to worry about "de-registering" or deallocating <a class="el" href="classTrilinos_1_1Details_1_1LinearSolverFactory.html" title="Interface for a &quot;factory&quot; that creates solvers.">LinearSolverFactory</a> instances; std::shared_ptr takes care of that automatically, after main() finishes. <a class="el" href="classTrilinos_1_1Details_1_1LinearSolverFactory.html" title="Interface for a &quot;factory&quot; that creates solvers.">LinearSolverFactory</a> instances should not hold on to resources that need explicit deallocation or "finalization," such as MPI_* data structures (that need to be "freed" before MPI_Finalize() is called) or open file handles.</p>
<p>If you have a compelling use case that requires explicit finalization of a <a class="el" href="classTrilinos_1_1Details_1_1LinearSolverFactory.html" title="Interface for a &quot;factory&quot; that creates solvers.">LinearSolverFactory</a> instance at some point before main() finishes, please talk to the <a class="el" href="namespaceTrilinos.html" title="Namespace of things generally useful to many Trilinos packages.">Trilinos</a> developers about adding a deregisterLinearSolverFactory() function (which does not exist yet).</p>
<p>In the Tpetra solver stack, it's necessary to register factories for all combinations of template parameters that applications plan to use. The easiest way to do that is to hook into the explicit template instantiation (ETI) system of each package. If ETI is ON, this is easy. If ETI is OFF, it's a bit harder. Tpetra defines a set of template parameter combinations over which it <em>tests</em>. If ETI is ON, this is always a subset of the ETI set. If ETI is OFF, I would recommend using this set of test types for registering factories. Do the following:</p>
<ol type="1">
<li>Include TpetraCore_ETIHelperMacros.h (a header file that Tpetra's CMake configuration process generates and writes to the build directory)</li>
<li>In an anonymous outer namespace, define a class that registers your factory in its constructor. See PackageA.cpp in ../example/SolverFactory for an example. Then, define a macro that creates an instance of that class (see the bottom of PackageA.cpp).</li>
<li>In the same anonymous outer namespace, invoke the TPETRA_ETI_MANGLING_TYPEDEFS() macro to define typedefs used internally by #3</li>
<li>In the same anonymous outer namespace, use the TPETRA_INSTANTIATE_SLGN_NO_ORDINAL_SCALAR macro, passing in the name of your macro (see #2) as its one argument. </li>
</ol>

<p class="definition">Definition at line <a class="el" href="Trilinos__Details__LinearSolverFactory_8hpp_source.html#l00203">203</a> of file <a class="el" href="Trilinos__Details__LinearSolverFactory_8hpp_source.html">Trilinos_Details_LinearSolverFactory.hpp</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a3dd55690625225637e82e86424866cfb" name="a3dd55690625225637e82e86424866cfb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3dd55690625225637e82e86424866cfb">&#9670;&#160;</a></span>getLinearSolver()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class MV , class OP , class NormType &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classTeuchos_1_1RCP.html">Teuchos::RCP</a>&lt; <a class="el" href="classTrilinos_1_1Details_1_1LinearSolver.html">LinearSolver</a>&lt; MV, OP, NormType &gt; &gt; <a class="el" href="classTrilinos_1_1Details_1_1LinearSolverFactory.html">Trilinos::Details::LinearSolverFactory</a>&lt; MV, OP, NormType &gt;::getLinearSolver </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>solverName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get an instance of a solver from a particular package. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">solverName</td><td>[in] The solver's name. Names are case sensitive.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the <a class="el" href="classTrilinos_1_1Details_1_1LinearSolver.html" title="Interface for a method for solving linear system(s) AX=B.">LinearSolver</a>, if the name was valid; else, a null pointer. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="Trilinos__Details__LinearSolverFactory_8hpp_source.html">Trilinos_Details_LinearSolverFactory.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
