<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NOX: NOX::LineSearch::Backtrack Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">NOX<span id="projectnumber">&#160;Development</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_n_o_x.html">NOX</a></li><li class="navelem"><a class="el" href="namespace_n_o_x_1_1_line_search.html">LineSearch</a></li><li class="navelem"><a class="el" href="class_n_o_x_1_1_line_search_1_1_backtrack.html">Backtrack</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_n_o_x_1_1_line_search_1_1_backtrack-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">NOX::LineSearch::Backtrack Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="class_n_o_x_1_1_line_search_1_1_generic.html" title="Base class line search interface.">Generic</a> backtracking line search.  
 <a href="class_n_o_x_1_1_line_search_1_1_backtrack.html#details">More...</a></p>

<p><code>#include &lt;NOX_LineSearch_Backtrack.H&gt;</code></p>
<div class="dynheader">
Inheritance diagram for NOX::LineSearch::Backtrack:</div>
<div class="dyncontent">
<div class="center"><img src="class_n_o_x_1_1_line_search_1_1_backtrack__inherit__graph.gif" border="0" usemap="#a_n_o_x_1_1_line_search_1_1_backtrack_inherit__map" alt="Inheritance graph"/></div>
<map name="a_n_o_x_1_1_line_search_1_1_backtrack_inherit__map" id="a_n_o_x_1_1_line_search_1_1_backtrack_inherit__map">
<area shape="rect" title="Generic backtracking line search." alt="" coords="5,79,208,104"/>
<area shape="rect" href="class_n_o_x_1_1_line_search_1_1_generic.html" title="Base class line search interface." alt="" coords="13,5,201,31"/>
<area shape="poly" title=" " alt="" coords="109,44,109,79,104,79,104,44"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for NOX::LineSearch::Backtrack:</div>
<div class="dyncontent">
<div class="center"><img src="class_n_o_x_1_1_line_search_1_1_backtrack__coll__graph.gif" border="0" usemap="#a_n_o_x_1_1_line_search_1_1_backtrack_coll__map" alt="Collaboration graph"/></div>
<map name="a_n_o_x_1_1_line_search_1_1_backtrack_coll__map" id="a_n_o_x_1_1_line_search_1_1_backtrack_coll__map">
<area shape="rect" title="Generic backtracking line search." alt="" coords="5,79,208,104"/>
<area shape="rect" href="class_n_o_x_1_1_line_search_1_1_generic.html" title="Base class line search interface." alt="" coords="13,5,201,31"/>
<area shape="poly" title=" " alt="" coords="109,44,109,79,104,79,104,44"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a12533b4d6377d8482cf1c8f48f98c60a" id="r_a12533b4d6377d8482cf1c8f48f98c60a"><td class="memItemLeft" align="right" valign="top"><a id="a12533b4d6377d8482cf1c8f48f98c60a" name="a12533b4d6377d8482cf1c8f48f98c60a"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>Backtrack</b> (const Teuchos::RCP&lt; <a class="el" href="class_n_o_x_1_1_global_data.html">NOX::GlobalData</a> &gt; &amp;gd, Teuchos::ParameterList &amp;params)</td></tr>
<tr class="memdesc:a12533b4d6377d8482cf1c8f48f98c60a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor. <br /></td></tr>
<tr class="separator:a12533b4d6377d8482cf1c8f48f98c60a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd1f68b967661b508acb58e3ef4e12d3" id="r_abd1f68b967661b508acb58e3ef4e12d3"><td class="memItemLeft" align="right" valign="top"><a id="abd1f68b967661b508acb58e3ef4e12d3" name="abd1f68b967661b508acb58e3ef4e12d3"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>~Backtrack</b> ()</td></tr>
<tr class="memdesc:abd1f68b967661b508acb58e3ef4e12d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor. <br /></td></tr>
<tr class="separator:abd1f68b967661b508acb58e3ef4e12d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab223a800e591080c6f95fef5e790cd19" id="r_ab223a800e591080c6f95fef5e790cd19"><td class="memItemLeft" align="right" valign="top"><a id="ab223a800e591080c6f95fef5e790cd19" name="ab223a800e591080c6f95fef5e790cd19"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>reset</b> (const Teuchos::RCP&lt; <a class="el" href="class_n_o_x_1_1_global_data.html">NOX::GlobalData</a> &gt; &amp;gd, Teuchos::ParameterList &amp;params)</td></tr>
<tr class="separator:ab223a800e591080c6f95fef5e790cd19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cf760440e38bd28ca57c3ffbac27239" id="r_a1cf760440e38bd28ca57c3ffbac27239"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_n_o_x_1_1_line_search_1_1_backtrack.html#a1cf760440e38bd28ca57c3ffbac27239">compute</a> (<a class="el" href="class_n_o_x_1_1_abstract_1_1_group.html">NOX::Abstract::Group</a> &amp;newgrp, double &amp;step, const <a class="el" href="class_n_o_x_1_1_abstract_1_1_vector.html">NOX::Abstract::Vector</a> &amp;dir, const <a class="el" href="class_n_o_x_1_1_solver_1_1_generic.html">NOX::Solver::Generic</a> &amp;s)</td></tr>
<tr class="memdesc:a1cf760440e38bd28ca57c3ffbac27239"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform a line search.  <br /></td></tr>
<tr class="separator:a1cf760440e38bd28ca57c3ffbac27239"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_class_n_o_x_1_1_line_search_1_1_generic"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_class_n_o_x_1_1_line_search_1_1_generic')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="class_n_o_x_1_1_line_search_1_1_generic.html">NOX::LineSearch::Generic</a></td></tr>
<tr class="memitem:a274c9aa2442142931223d3b599705f91 inherit pub_methods_class_n_o_x_1_1_line_search_1_1_generic" id="r_a274c9aa2442142931223d3b599705f91"><td class="memItemLeft" align="right" valign="top">
&#160;</td><td class="memItemRight" valign="bottom"><b>Generic</b> ()</td></tr>
<tr class="memdesc:a274c9aa2442142931223d3b599705f91 inherit pub_methods_class_n_o_x_1_1_line_search_1_1_generic"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor. <br /></td></tr>
<tr class="separator:a274c9aa2442142931223d3b599705f91 inherit pub_methods_class_n_o_x_1_1_line_search_1_1_generic"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1caa85a7d8683f8a27c988d7bbf44874 inherit pub_methods_class_n_o_x_1_1_line_search_1_1_generic" id="r_a1caa85a7d8683f8a27c988d7bbf44874"><td class="memItemLeft" align="right" valign="top">
virtual&#160;</td><td class="memItemRight" valign="bottom"><b>~Generic</b> ()</td></tr>
<tr class="memdesc:a1caa85a7d8683f8a27c988d7bbf44874 inherit pub_methods_class_n_o_x_1_1_line_search_1_1_generic"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor. <br /></td></tr>
<tr class="separator:a1caa85a7d8683f8a27c988d7bbf44874 inherit pub_methods_class_n_o_x_1_1_line_search_1_1_generic"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="class_n_o_x_1_1_line_search_1_1_generic.html" title="Base class line search interface.">Generic</a> backtracking line search. </p>
<p>This line search starts with the step length defined by "Default
  Step". It checks to see if the norm of the right hand side (RHS) has been reduced. If so, it exits successfully. Otherwise, it reduces the step length by the reduction factor (defaults to one-half). It continues to repeat this procedure until it either finds a reduction in the norm of the RHS or the step is less than that specified by "Minimum Step". In the later case, the line search has failed, and we take the step defined by "Recovery Step".</p>
<p>This line search can be called via NOX::LineSearch::Manager.</p>
<p>The following parameters can be specified for this line search in the "Backtrack" sublist of the "Line Search" sublist.</p>
<ul>
<li>
"Default Step" - starting step length (defaults to 1.0) </li>
<li>
"Minimum Step" - minimum acceptable step length (defaults to 1.0e-12) </li>
<li>
"Recovery Step" - step to take when the line search fails (defaults to value for "Default Step") </li>
<li>
"Max Iters" - maximum number of iterations (i.e., RHS computations) </li>
<li>
"Reduction Factor" - A multiplier between zero and one that reduces the step size between line search iterations </li>
</ul>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a1cf760440e38bd28ca57c3ffbac27239" name="a1cf760440e38bd28ca57c3ffbac27239"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1cf760440e38bd28ca57c3ffbac27239">&#9670;&#160;</a></span>compute()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool NOX::LineSearch::Backtrack::compute </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_n_o_x_1_1_abstract_1_1_group.html">NOX::Abstract::Group</a> &amp;&#160;</td>
          <td class="paramname"><em>grp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>step</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_n_o_x_1_1_abstract_1_1_vector.html">NOX::Abstract::Vector</a> &amp;&#160;</td>
          <td class="paramname"><em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_n_o_x_1_1_solver_1_1_generic.html">NOX::Solver::Generic</a> &amp;&#160;</td>
          <td class="paramname"><em>s</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Perform a line search. </p>
<p>On input: </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">grp</td><td>The initial solution vector, <picture><source srcset="form_108_dark.png" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$x_{\rm old}$" src="form_108.png" width="21" height="9"/></picture>. </td></tr>
    <tr><td class="paramname">dir</td><td>A vector of directions to be used in the line search, <picture><source srcset="form_64_dark.png" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$d$" src="form_64.png" width="6" height="10"/></picture>. </td></tr>
    <tr><td class="paramname">s</td><td>The nonlinear solver.</td></tr>
  </table>
  </dd>
</dl>
<p>On output: </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">step</td><td>The distance the direction was scaled, <picture><source srcset="form_67_dark.png" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$ \lambda $" src="form_67.png" width="8" height="10"/></picture>. </td></tr>
    <tr><td class="paramname">grp</td><td>The <code>grp</code> is updated with a new solution, <picture><source srcset="form_109_dark.png" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$ x_{\rm new} $" src="form_109.png" width="25" height="9"/></picture>, resulting from the linesearch. Normally, for a single direction line search, this is computed as:</td></tr>
  </table>
  </dd>
</dl>
<p class="formulaDsp">
<picture><source srcset="form_110_dark.png" media="(prefers-color-scheme: dark)"/><img class="formulaDsp" alt="\[
  x_{\rm new} = x_{\rm old} + \lambda d.
  \]" src="form_110.png" width="95" height="13"/></picture>
</p>
<p>Ideally, <picture><source srcset="form_111_dark.png" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$ \|F(x_{\rm new})\| &lt; \|F(x_{\rm old})\| $" src="form_111.png" width="125" height="14"/></picture> (e.g the final direction is a descent direction).</p>
<p>Note that the <code>dir</code> object is a std::vector. For typical line searches as described in the above equation, this vector is of size one. We have used a std::vector to allow for special cases of multi-directional line searches such as the Bader/Schnabel curvillinear line search.</p>
<p>Return value is true for a successful line search computation. </p>

<p>Implements <a class="el" href="class_n_o_x_1_1_line_search_1_1_generic.html#a4cc419fb25b2e3597750ed5a27f4f55a">NOX::LineSearch::Generic</a>.</p>

<p class="reference">References <a class="el" href="class_n_o_x_1_1_abstract_1_1_group.html#afb0a17ceea78a12923bb9932fb0c7182">NOX::Abstract::Group::computeF()</a>, <a class="el" href="class_n_o_x_1_1_abstract_1_1_group.html#a567a5000e48967e6bbbe59daae97ea9d">NOX::Abstract::Group::computeX()</a>, <a class="el" href="class_n_o_x_1_1_utils.html#ad3f2fa255556fa65c8c7dcff99157e56">NOX::Utils::fill()</a>, <a class="el" href="class_n_o_x_1_1_status_test_1_1_finite_value.html#ab8c0c55ab7b9ef2be91866f12fbc332f">NOX::StatusTest::FiniteValue::finiteNumberTest()</a>, <a class="el" href="class_n_o_x_1_1_solver_1_1_generic.html#a4d070aceca2561a7d89e0b32a40f84d2">NOX::Solver::Generic::getPreviousSolutionGroup()</a>, <a class="el" href="class_n_o_x_1_1_utils.html#ab30f60438649426b2490e4646754c856a119da0cce22656f16f1aac7400bd3b2a">NOX::Utils::InnerIteration</a>, and <a class="el" href="class_n_o_x_1_1_abstract_1_1_group.html#aa17ab5aa51d466fd6f2d5dc361d5c217aac87f53fa40531f3330d4f5be59c3068">NOX::Abstract::Group::Ok</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><b>NOX_LineSearch_Backtrack.H</b></li>
<li><b>NOX_LineSearch_Backtrack.C</b></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
