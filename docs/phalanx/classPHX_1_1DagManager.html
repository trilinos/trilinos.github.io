<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Phalanx: PHX::DagManager&lt; Traits &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Phalanx<span id="projectnumber">&#160;Development</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>PHX</b></li><li class="navelem"><a class="el" href="classPHX_1_1DagManager.html">DagManager</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classPHX_1_1DagManager-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">PHX::DagManager&lt; Traits &gt; Class Template Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Class to generate the directed acyclic graph (DAG) for evaluation. Determined which Evaluators should be called and the order in which to call them such that all dependencies are met with consistency.  
 <a href="classPHX_1_1DagManager.html#details">More...</a></p>

<p><code>#include &lt;Phalanx_DAG_Manager.hpp&gt;</code></p>
<div class="dynheader">
Collaboration diagram for PHX::DagManager&lt; Traits &gt;:</div>
<div class="dyncontent">
<div class="center"><img src="classPHX_1_1DagManager__coll__graph.gif" border="0" usemap="#aPHX_1_1DagManager_3_01Traits_01_4_coll__map" alt="Collaboration graph"/></div>
<map name="aPHX_1_1DagManager_3_01Traits_01_4_coll__map" id="aPHX_1_1DagManager_3_01Traits_01_4_coll__map">
<area shape="rect" title="Class to generate the directed acyclic graph (DAG) for evaluation. Determined which Evaluators should..." alt="" coords="5,240,211,265"/>
<area shape="rect" href="classKokkos_1_1View.html" title=" " alt="" coords="13,123,203,177"/>
<area shape="poly" title=" " alt="" coords="111,191,111,240,105,240,105,191"/>
<area shape="rect" href="classKokkos_1_1View.html" title=" " alt="" coords="25,5,191,45"/>
<area shape="poly" title=" " alt="" coords="111,59,111,122,105,122,105,59"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad832fcacf7475bc5ef73a1d910e79280" id="r_ad832fcacf7475bc5ef73a1d910e79280"><td class="memItemLeft" align="right" valign="top"><a id="ad832fcacf7475bc5ef73a1d910e79280" name="ad832fcacf7475bc5ef73a1d910e79280"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>DagManager</b> (const std::string &amp;evaluator_type_name=&quot;???&quot;)</td></tr>
<tr class="separator:ad832fcacf7475bc5ef73a1d910e79280"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f1cf4686d08de3321964415840cd1b1" id="r_a1f1cf4686d08de3321964415840cd1b1"><td class="memItemLeft" align="right" valign="top"><a id="a1f1cf4686d08de3321964415840cd1b1" name="a1f1cf4686d08de3321964415840cd1b1"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>requireField</b> (const <a class="el" href="classPHX_1_1FieldTag.html">PHX::FieldTag</a> &amp;v)</td></tr>
<tr class="memdesc:a1f1cf4686d08de3321964415840cd1b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Require a variable to be evaluated. <br /></td></tr>
<tr class="separator:a1f1cf4686d08de3321964415840cd1b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af74462001ec622f7f55efa4d8dffdd54" id="r_af74462001ec622f7f55efa4d8dffdd54"><td class="memItemLeft" align="right" valign="top"><a id="af74462001ec622f7f55efa4d8dffdd54" name="af74462001ec622f7f55efa4d8dffdd54"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>registerEvaluator</b> (const Teuchos::RCP&lt; <a class="el" href="classPHX_1_1Evaluator.html">PHX::Evaluator</a>&lt; Traits &gt; &gt; &amp;p)</td></tr>
<tr class="memdesc:af74462001ec622f7f55efa4d8dffdd54"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers an evaluator with the manager. <br /></td></tr>
<tr class="separator:af74462001ec622f7f55efa4d8dffdd54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a5a58b6bef2ef8f2d313526d11539c1" id="r_a5a5a58b6bef2ef8f2d313526d11539c1"><td class="memItemLeft" align="right" valign="top"><a id="a5a5a58b6bef2ef8f2d313526d11539c1" name="a5a5a58b6bef2ef8f2d313526d11539c1"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setDefaultGraphvizFilenameForErrors</b> (const std::string &amp;file_name)</td></tr>
<tr class="memdesc:a5a5a58b6bef2ef8f2d313526d11539c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the default filename for graphiz file generation for DAG construction errors. <br /></td></tr>
<tr class="separator:a5a5a58b6bef2ef8f2d313526d11539c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54044ccd42b8523ee10700dbd40fe782" id="r_a54044ccd42b8523ee10700dbd40fe782"><td class="memItemLeft" align="right" valign="top"><a id="a54044ccd42b8523ee10700dbd40fe782" name="a54044ccd42b8523ee10700dbd40fe782"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setWriteGraphvizFileOnError</b> (bool write_file)</td></tr>
<tr class="memdesc:a54044ccd42b8523ee10700dbd40fe782"><td class="mdescLeft">&#160;</td><td class="mdescRight">If set to true, a graphviz file will be written during for DAG construction errors. <br /></td></tr>
<tr class="separator:a54044ccd42b8523ee10700dbd40fe782"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bc0b94d8408da4c813ed09e650df825" id="r_a0bc0b94d8408da4c813ed09e650df825"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPHX_1_1DagManager.html#a0bc0b94d8408da4c813ed09e650df825">sortAndOrderEvaluators</a> ()</td></tr>
<tr class="separator:a0bc0b94d8408da4c813ed09e650df825"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67fd1e0e8257db76d3e8ff2e41201329" id="r_a67fd1e0e8257db76d3e8ff2e41201329"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPHX_1_1DagManager.html#a67fd1e0e8257db76d3e8ff2e41201329">postRegistrationSetup</a> (typename Traits::SetupData d, <a class="el" href="classPHX_1_1FieldManager.html">PHX::FieldManager</a>&lt; Traits &gt; &amp;vm, const bool &amp;buildDeviceDAG)</td></tr>
<tr class="separator:a67fd1e0e8257db76d3e8ff2e41201329"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9f6c0ceb5663ed86a7ce89ec96c7752" id="r_ab9f6c0ceb5663ed86a7ce89ec96c7752"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPHX_1_1DagManager.html#ab9f6c0ceb5663ed86a7ce89ec96c7752">evaluateFields</a> (typename Traits::EvalData d)</td></tr>
<tr class="separator:ab9f6c0ceb5663ed86a7ce89ec96c7752"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f2ebc55e90828c8e8d988bce6db70a9" id="r_a6f2ebc55e90828c8e8d988bce6db70a9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPHX_1_1DagManager.html#a6f2ebc55e90828c8e8d988bce6db70a9">evaluateFieldsDeviceDag</a> (const int &amp;work_size, const int &amp;team_size, const int &amp;vector_size, typename Traits::EvalData d)</td></tr>
<tr class="separator:a6f2ebc55e90828c8e8d988bce6db70a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b27eeaa002dc7394263a986b4d04f68" id="r_a0b27eeaa002dc7394263a986b4d04f68"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPHX_1_1DagManager.html#a0b27eeaa002dc7394263a986b4d04f68">preEvaluate</a> (typename Traits::PreEvalData d)</td></tr>
<tr class="memdesc:a0b27eeaa002dc7394263a986b4d04f68"><td class="mdescLeft">&#160;</td><td class="mdescRight">This routine is called before each residual/Jacobian fill.  <br /></td></tr>
<tr class="separator:a0b27eeaa002dc7394263a986b4d04f68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbf60e9d309c057866f2651dfc92432d" id="r_abbf60e9d309c057866f2651dfc92432d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPHX_1_1DagManager.html#abbf60e9d309c057866f2651dfc92432d">postEvaluate</a> (typename Traits::PostEvalData d)</td></tr>
<tr class="memdesc:abbf60e9d309c057866f2651dfc92432d"><td class="mdescLeft">&#160;</td><td class="mdescRight">This routine is called after each residual/Jacobian fill.  <br /></td></tr>
<tr class="separator:abbf60e9d309c057866f2651dfc92432d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f008b642b72efd38660bf4600b6240f" id="r_a4f008b642b72efd38660bf4600b6240f"><td class="memItemLeft" align="right" valign="top"><a id="a4f008b642b72efd38660bf4600b6240f" name="a4f008b642b72efd38660bf4600b6240f"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setEvaluationTypeName</b> (const std::string &amp;evaluation_type_name)</td></tr>
<tr class="separator:a4f008b642b72efd38660bf4600b6240f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72243c98aa6ac28f0dea36994723c8e5" id="r_a72243c98aa6ac28f0dea36994723c8e5"><td class="memItemLeft" align="right" valign="top">const std::vector&lt; Teuchos::RCP&lt; <a class="el" href="classPHX_1_1FieldTag.html">PHX::FieldTag</a> &gt; &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPHX_1_1DagManager.html#a72243c98aa6ac28f0dea36994723c8e5">getFieldTags</a> ()</td></tr>
<tr class="separator:a72243c98aa6ac28f0dea36994723c8e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace3817d005cd71fcc25bb52f73123c1c" id="r_ace3817d005cd71fcc25bb52f73123c1c"><td class="memItemLeft" align="right" valign="top"><a id="ace3817d005cd71fcc25bb52f73123c1c" name="ace3817d005cd71fcc25bb52f73123c1c"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>sortingCalled</b> () const</td></tr>
<tr class="memdesc:ace3817d005cd71fcc25bb52f73123c1c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if sortAndOrderEvaluators has been called. <br /></td></tr>
<tr class="separator:ace3817d005cd71fcc25bb52f73123c1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e1ab20ffac2f8c50904f107d430960b" id="r_a5e1ab20ffac2f8c50904f107d430960b"><td class="memItemLeft" align="right" valign="top"><a id="a5e1ab20ffac2f8c50904f107d430960b" name="a5e1ab20ffac2f8c50904f107d430960b"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>writeGraphvizFile</b> (const std::string filename, bool writeEvaluatedFields, bool writeDependentFields, bool debugRegisteredEvaluators) const</td></tr>
<tr class="memdesc:a5e1ab20ffac2f8c50904f107d430960b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write the DAG to file in graphviz/dot format. This is the deprecated version. <br /></td></tr>
<tr class="separator:a5e1ab20ffac2f8c50904f107d430960b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf160e691f36089e91fe19041ca714e4" id="r_acf160e691f36089e91fe19041ca714e4"><td class="memItemLeft" align="right" valign="top"><a id="acf160e691f36089e91fe19041ca714e4" name="acf160e691f36089e91fe19041ca714e4"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>writeGraphvizFileNew</b> (const std::string filename, bool writeEvaluatedFields, bool writeDependentFields) const</td></tr>
<tr class="memdesc:acf160e691f36089e91fe19041ca714e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write the DAG to file in graphviz/dot format. <br /></td></tr>
<tr class="separator:acf160e691f36089e91fe19041ca714e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adefaf546459463a19351332e1d38c193" id="r_adefaf546459463a19351332e1d38c193"><td class="memItemLeft" align="right" valign="top"><a id="adefaf546459463a19351332e1d38c193" name="adefaf546459463a19351332e1d38c193"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>writeGraphviz</b> (std::ostream &amp;os, bool writeEvaluatedFields, bool writeDependentFields) const</td></tr>
<tr class="memdesc:adefaf546459463a19351332e1d38c193"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write the DAG to std::ostream in graphviz/dot format. <br /></td></tr>
<tr class="separator:adefaf546459463a19351332e1d38c193"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afae32cc00b3464ef1dd7994fafcc7035" id="r_afae32cc00b3464ef1dd7994fafcc7035"><td class="memItemLeft" align="right" valign="top"><a id="afae32cc00b3464ef1dd7994fafcc7035" name="afae32cc00b3464ef1dd7994fafcc7035"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>print</b> (std::ostream &amp;os) const</td></tr>
<tr class="memdesc:afae32cc00b3464ef1dd7994fafcc7035"><td class="mdescLeft">&#160;</td><td class="mdescRight">Printing. <br /></td></tr>
<tr class="separator:afae32cc00b3464ef1dd7994fafcc7035"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed1da7898907436344df542b20888827" id="r_aed1da7898907436344df542b20888827"><td class="memItemLeft" align="right" valign="top"><a id="aed1da7898907436344df542b20888827" name="aed1da7898907436344df542b20888827"></a>
const std::vector&lt; int &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>getEvaluatorInternalOrdering</b> () const</td></tr>
<tr class="memdesc:aed1da7898907436344df542b20888827"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the Topological sort ordering. Used for unit testing. <br /></td></tr>
<tr class="separator:aed1da7898907436344df542b20888827"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a030764e6119e4b86bc1d1bd0cb9c460c" id="r_a030764e6119e4b86bc1d1bd0cb9c460c"><td class="memItemLeft" align="right" valign="top"><a id="a030764e6119e4b86bc1d1bd0cb9c460c" name="a030764e6119e4b86bc1d1bd0cb9c460c"></a>
const std::vector&lt; <a class="el" href="classPHX_1_1DagNode.html">PHX::DagNode</a>&lt; Traits &gt; &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>getDagNodes</b> () const</td></tr>
<tr class="memdesc:a030764e6119e4b86bc1d1bd0cb9c460c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the internally registered nodes. Used for unit testing. <br /></td></tr>
<tr class="separator:a030764e6119e4b86bc1d1bd0cb9c460c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8be779f828cccb23ad675529dccf8de" id="r_ac8be779f828cccb23ad675529dccf8de"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPHX_1_1DagManager.html#ac8be779f828cccb23ad675529dccf8de">analyzeGraph</a> (double &amp;speedup, double &amp;parallelizability) const</td></tr>
<tr class="memdesc:ac8be779f828cccb23ad675529dccf8de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the speedup and parallelizability of the graph.  <br /></td></tr>
<tr class="separator:ac8be779f828cccb23ad675529dccf8de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12f3b97d2fbb07745409a818595654e2" id="r_a12f3b97d2fbb07745409a818595654e2"><td class="memItemLeft" align="right" valign="top">std::vector&lt; Teuchos::RCP&lt; <a class="el" href="classPHX_1_1Evaluator.html">PHX::Evaluator</a>&lt; Traits &gt; &gt; &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPHX_1_1DagManager.html#a12f3b97d2fbb07745409a818595654e2">getEvaluatorsBindingField</a> (const <a class="el" href="classPHX_1_1FieldTag.html">PHX::FieldTag</a> &amp;ft)</td></tr>
<tr class="memdesc:a12f3b97d2fbb07745409a818595654e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns all evaluators that either evaluate or require the given field. This is used to bind memory for unmanaged views.  <br /></td></tr>
<tr class="separator:a12f3b97d2fbb07745409a818595654e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a629743fc74ed0fbf34c5375c87f76026" id="r_a629743fc74ed0fbf34c5375c87f76026"><td class="memItemLeft" align="right" valign="top">const std::unordered_map&lt; std::string, std::pair&lt; int, int &gt; &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPHX_1_1DagManager.html#a629743fc74ed0fbf34c5375c87f76026">getFieldUseRange</a> ()</td></tr>
<tr class="memdesc:a629743fc74ed0fbf34c5375c87f76026"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the evaluator range that the field needs to exist over.  <br /></td></tr>
<tr class="separator:a629743fc74ed0fbf34c5375c87f76026"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a802d163b6da88f4a494cb12a8d202273" id="r_a802d163b6da88f4a494cb12a8d202273"><td class="memItemLeft" align="right" valign="top">const std::unordered_map&lt; std::string, Teuchos::RCP&lt; <a class="el" href="classPHX_1_1FieldTag.html">PHX::FieldTag</a> &gt; &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPHX_1_1DagManager.html#a802d163b6da88f4a494cb12a8d202273">getUnsharedFields</a> ()</td></tr>
<tr class="separator:a802d163b6da88f4a494cb12a8d202273"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a234bd7e9cad094ea235251e398bf4358" id="r_a234bd7e9cad094ea235251e398bf4358"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPHX_1_1DagManager.html#a234bd7e9cad094ea235251e398bf4358">printEvaluatorStartStopMessage</a> (const Teuchos::RCP&lt; std::ostream &gt; &amp;ostr)</td></tr>
<tr class="memdesc:a234bd7e9cad094ea235251e398bf4358"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print to user specified ostream when each evaluator starts and stops. Useful for debugging. Enabled only in debug builds.  <br /></td></tr>
<tr class="separator:a234bd7e9cad094ea235251e398bf4358"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c129b9e5d4238004c6038990bb976ea" id="r_a9c129b9e5d4238004c6038990bb976ea"><td class="memItemLeft" align="right" valign="top"><a id="a9c129b9e5d4238004c6038990bb976ea" name="a9c129b9e5d4238004c6038990bb976ea"></a>
const std::vector&lt; Teuchos::RCP&lt; <a class="el" href="classPHX_1_1FieldTag.html">PHX::FieldTag</a> &gt; &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>getRequiredFields</b> () const</td></tr>
<tr class="memdesc:a9c129b9e5d4238004c6038990bb976ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns all fields that the user requested to to be evaluated by the field manager. <br /></td></tr>
<tr class="separator:a9c129b9e5d4238004c6038990bb976ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54cb1043c9c2118ba043fe0f8c503dfe" id="r_a54cb1043c9c2118ba043fe0f8c503dfe"><td class="memItemLeft" align="right" valign="top">const std::unordered_map&lt; std::string, int &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPHX_1_1DagManager.html#a54cb1043c9c2118ba043fe0f8c503dfe">queryRegisteredFields</a> () const</td></tr>
<tr class="separator:a54cb1043c9c2118ba043fe0f8c503dfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1eded405e9f36a37bfaaf1c9ce17ac9" id="r_ae1eded405e9f36a37bfaaf1c9ce17ac9"><td class="memItemLeft" align="right" valign="top">const std::vector&lt; <a class="el" href="classPHX_1_1DagNode.html">PHX::DagNode</a>&lt; Traits &gt; &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPHX_1_1DagManager.html#ae1eded405e9f36a37bfaaf1c9ce17ac9">queryRegisteredEvaluators</a> () const</td></tr>
<tr class="separator:ae1eded405e9f36a37bfaaf1c9ce17ac9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a8576485a9802386735707069997e4931" id="r_a8576485a9802386735707069997e4931"><td class="memItemLeft" align="right" valign="top"><a id="a8576485a9802386735707069997e4931" name="a8576485a9802386735707069997e4931"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>dfsVisit</b> (<a class="el" href="classPHX_1_1DagNode.html">PHX::DagNode</a>&lt; Traits &gt; &amp;node, int &amp;time)</td></tr>
<tr class="memdesc:a8576485a9802386735707069997e4931"><td class="mdescLeft">&#160;</td><td class="mdescRight">Depth-first search algorithm. <br /></td></tr>
<tr class="separator:a8576485a9802386735707069997e4931"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20c9b78dc1e878bb8a64d81a693fd527" id="r_a20c9b78dc1e878bb8a64d81a693fd527"><td class="memItemLeft" align="right" valign="top"><a id="a20c9b78dc1e878bb8a64d81a693fd527" name="a20c9b78dc1e878bb8a64d81a693fd527"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>writeGraphvizDfsVisit</b> (<a class="el" href="classPHX_1_1DagNode.html">PHX::DagNode</a>&lt; Traits &gt; &amp;node, std::vector&lt; <a class="el" href="classPHX_1_1DagNode.html">PHX::DagNode</a>&lt; Traits &gt; &gt; &amp;nodes_copy, std::ostream &amp;os, const bool writeEvaluatedFields, const bool writeDependentFields) const</td></tr>
<tr class="memdesc:a20c9b78dc1e878bb8a64d81a693fd527"><td class="mdescLeft">&#160;</td><td class="mdescRight">Depth-first search algorithm specialized for writing graphviz output. <br /></td></tr>
<tr class="separator:a20c9b78dc1e878bb8a64d81a693fd527"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add55b4ab3a0957571dd46aedbcfcb6b5" id="r_add55b4ab3a0957571dd46aedbcfcb6b5"><td class="memItemLeft" align="right" valign="top"><a id="add55b4ab3a0957571dd46aedbcfcb6b5" name="add55b4ab3a0957571dd46aedbcfcb6b5"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>printEvaluator</b> (const <a class="el" href="classPHX_1_1Evaluator.html">PHX::Evaluator</a>&lt; Traits &gt; &amp;e, std::ostream &amp;os) const</td></tr>
<tr class="memdesc:add55b4ab3a0957571dd46aedbcfcb6b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function. <br /></td></tr>
<tr class="separator:add55b4ab3a0957571dd46aedbcfcb6b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93228ac0cbfbaa55f1501ad79847b62e" id="r_a93228ac0cbfbaa55f1501ad79847b62e"><td class="memItemLeft" align="right" valign="top"><a id="a93228ac0cbfbaa55f1501ad79847b62e" name="a93228ac0cbfbaa55f1501ad79847b62e"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>createEvaluatorBindingFieldMap</b> ()</td></tr>
<tr class="separator:a93228ac0cbfbaa55f1501ad79847b62e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:ac6ec52129690e79dc0e117368323f9a3" id="r_ac6ec52129690e79dc0e117368323f9a3"><td class="memItemLeft" align="right" valign="top"><a id="ac6ec52129690e79dc0e117368323f9a3" name="ac6ec52129690e79dc0e117368323f9a3"></a>
std::vector&lt; Teuchos::RCP&lt; <a class="el" href="classPHX_1_1FieldTag.html">PHX::FieldTag</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>required_fields_</b></td></tr>
<tr class="memdesc:ac6ec52129690e79dc0e117368323f9a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fields required by the user. <br /></td></tr>
<tr class="separator:ac6ec52129690e79dc0e117368323f9a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad120ea7d877cb3f4df8c9a1c09c6bae5" id="r_ad120ea7d877cb3f4df8c9a1c09c6bae5"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classPHX_1_1DagNode.html">PHX::DagNode</a>&lt; Traits &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPHX_1_1DagManager.html#ad120ea7d877cb3f4df8c9a1c09c6bae5">nodes_</a></td></tr>
<tr class="memdesc:ad120ea7d877cb3f4df8c9a1c09c6bae5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Vector of all registered evaluators.  <br /></td></tr>
<tr class="separator:ad120ea7d877cb3f4df8c9a1c09c6bae5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1e7cde87608e9447aae5594f6e097cc" id="r_ad1e7cde87608e9447aae5594f6e097cc"><td class="memItemLeft" align="right" valign="top"><a id="ad1e7cde87608e9447aae5594f6e097cc" name="ad1e7cde87608e9447aae5594f6e097cc"></a>
std::unordered_map&lt; std::string, int &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>field_to_node_index_</b></td></tr>
<tr class="memdesc:ad1e7cde87608e9447aae5594f6e097cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hash map of field key to evaluator index. <br /></td></tr>
<tr class="separator:ad1e7cde87608e9447aae5594f6e097cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78fdf63a0161bfd43b89bb835fa9826e" id="r_a78fdf63a0161bfd43b89bb835fa9826e"><td class="memItemLeft" align="right" valign="top"><a id="a78fdf63a0161bfd43b89bb835fa9826e" name="a78fdf63a0161bfd43b89bb835fa9826e"></a>
std::unordered_map&lt; std::string, std::unordered_set&lt; int &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>contributed_field_to_node_index_</b></td></tr>
<tr class="memdesc:a78fdf63a0161bfd43b89bb835fa9826e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hash map of contributed field key to evaluator index. <br /></td></tr>
<tr class="separator:a78fdf63a0161bfd43b89bb835fa9826e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5856259c117faa22de6f03c540babfed" id="r_a5856259c117faa22de6f03c540babfed"><td class="memItemLeft" align="right" valign="top"><a id="a5856259c117faa22de6f03c540babfed" name="a5856259c117faa22de6f03c540babfed"></a>
std::vector&lt; Teuchos::RCP&lt; <a class="el" href="classPHX_1_1FieldTag.html">PHX::FieldTag</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>fields_</b></td></tr>
<tr class="memdesc:a5856259c117faa22de6f03c540babfed"><td class="mdescLeft">&#160;</td><td class="mdescRight">All fields that are needed for the evaluation. <br /></td></tr>
<tr class="separator:a5856259c117faa22de6f03c540babfed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5eb1cf112172ed4e9195932a34831bdc" id="r_a5eb1cf112172ed4e9195932a34831bdc"><td class="memItemLeft" align="right" valign="top"><a id="a5eb1cf112172ed4e9195932a34831bdc" name="a5eb1cf112172ed4e9195932a34831bdc"></a>
std::vector&lt; Teuchos::RCP&lt; Teuchos::Time &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>evalTimers</b></td></tr>
<tr class="separator:a5eb1cf112172ed4e9195932a34831bdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Evaluation Order Objects</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Stores results from a topological sort on the evaluator DAG: the order to call evaluators to evaluate fields correctly. </p>
</div></td></tr>
<tr class="memitem:a0553b0ec5e2aaf1f43e950a1081b4f04" id="r_a0553b0ec5e2aaf1f43e950a1081b4f04"><td class="memItemLeft" align="right" valign="top"><a id="a0553b0ec5e2aaf1f43e950a1081b4f04" name="a0553b0ec5e2aaf1f43e950a1081b4f04"></a>
std::vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>topoSortEvalIndex</b></td></tr>
<tr class="separator:a0553b0ec5e2aaf1f43e950a1081b4f04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75d4d1f9cf1ca47019c279a0abfab312" id="r_a75d4d1f9cf1ca47019c279a0abfab312"><td class="memItemLeft" align="right" valign="top"><a id="a75d4d1f9cf1ca47019c279a0abfab312" name="a75d4d1f9cf1ca47019c279a0abfab312"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>graphviz_filename_for_errors_</b></td></tr>
<tr class="memdesc:a75d4d1f9cf1ca47019c279a0abfab312"><td class="mdescLeft">&#160;</td><td class="mdescRight">Use this name for graphviz file output for DAG construction errors. <br /></td></tr>
<tr class="separator:a75d4d1f9cf1ca47019c279a0abfab312"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8089d8ef6d75bd1140a6a697ca9171e2" id="r_a8089d8ef6d75bd1140a6a697ca9171e2"><td class="memItemLeft" align="right" valign="top"><a id="a8089d8ef6d75bd1140a6a697ca9171e2" name="a8089d8ef6d75bd1140a6a697ca9171e2"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>write_graphviz_file_on_error_</b></td></tr>
<tr class="memdesc:a8089d8ef6d75bd1140a6a697ca9171e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">If set to true, will write graphviz file for DAG construction errors. <br /></td></tr>
<tr class="separator:a8089d8ef6d75bd1140a6a697ca9171e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56234e2a920793a3dab419adb751b8b8" id="r_a56234e2a920793a3dab419adb751b8b8"><td class="memItemLeft" align="right" valign="top"><a id="a56234e2a920793a3dab419adb751b8b8" name="a56234e2a920793a3dab419adb751b8b8"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>evaluation_type_name_</b></td></tr>
<tr class="separator:a56234e2a920793a3dab419adb751b8b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37530a9f09657902ca31fe374cfe9af3" id="r_a37530a9f09657902ca31fe374cfe9af3"><td class="memItemLeft" align="right" valign="top"><a id="a37530a9f09657902ca31fe374cfe9af3" name="a37530a9f09657902ca31fe374cfe9af3"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>sorting_called_</b></td></tr>
<tr class="memdesc:a37530a9f09657902ca31fe374cfe9af3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag to tell the setup has been called. <br /></td></tr>
<tr class="separator:a37530a9f09657902ca31fe374cfe9af3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acceb6d3653d3904ac8f05ca68223116d" id="r_acceb6d3653d3904ac8f05ca68223116d"><td class="memItemLeft" align="right" valign="top"><a id="acceb6d3653d3904ac8f05ca68223116d" name="acceb6d3653d3904ac8f05ca68223116d"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>allow_multiple_evaluators_for_same_field_</b></td></tr>
<tr class="memdesc:acceb6d3653d3904ac8f05ca68223116d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Backwards compatibility option: set to true to disable a check that throws if multiple registered evaluators can evaluate the same field. Original DFS algortihm allowed this. Refactor checks and throws. <br  />
 <br /></td></tr>
<tr class="separator:acceb6d3653d3904ac8f05ca68223116d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27c9c510c2b3ccfc96cf2137957d1c6d" id="r_a27c9c510c2b3ccfc96cf2137957d1c6d"><td class="memItemLeft" align="right" valign="top"><a id="a27c9c510c2b3ccfc96cf2137957d1c6d" name="a27c9c510c2b3ccfc96cf2137957d1c6d"></a>
std::unordered_map&lt; std::string, std::vector&lt; Teuchos::RCP&lt; <a class="el" href="classPHX_1_1Evaluator.html">PHX::Evaluator</a>&lt; Traits &gt; &gt; &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>field_to_evaluators_binding_</b></td></tr>
<tr class="memdesc:a27c9c510c2b3ccfc96cf2137957d1c6d"><td class="mdescLeft">&#160;</td><td class="mdescRight">A map that returns all evaluators that bind the memory of a particular field. Key is unique field identifier. <br  />
 <br /></td></tr>
<tr class="separator:a27c9c510c2b3ccfc96cf2137957d1c6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d5813ed53f9e0f9020dc62c10f19535" id="r_a7d5813ed53f9e0f9020dc62c10f19535"><td class="memItemLeft" align="right" valign="top"><a id="a7d5813ed53f9e0f9020dc62c10f19535" name="a7d5813ed53f9e0f9020dc62c10f19535"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>build_device_dag_</b></td></tr>
<tr class="memdesc:a7d5813ed53f9e0f9020dc62c10f19535"><td class="mdescLeft">&#160;</td><td class="mdescRight">If set to true, allocated DeviceEvaluators for Device DAG for evaluation. <br /></td></tr>
<tr class="separator:a7d5813ed53f9e0f9020dc62c10f19535"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51ad6df407695a5397feca3d3c9f4b4a" id="r_a51ad6df407695a5397feca3d3c9f4b4a"><td class="memItemLeft" align="right" valign="top"><a id="a51ad6df407695a5397feca3d3c9f4b4a" name="a51ad6df407695a5397feca3d3c9f4b4a"></a>
<a class="el" href="classKokkos_1_1View.html">Kokkos::View</a>&lt; <a class="el" href="structPHX_1_1DeviceEvaluatorPtr.html">PHX::DeviceEvaluatorPtr</a>&lt; Traits &gt; *, PHX::Device &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>device_evaluators_</b></td></tr>
<tr class="memdesc:a51ad6df407695a5397feca3d3c9f4b4a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Contians pointers to DeviceEvaluators for Device DAG support. <br /></td></tr>
<tr class="separator:a51ad6df407695a5397feca3d3c9f4b4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adda6d6cebe0a7d3849d2dc2b6dd4fc1a" id="r_adda6d6cebe0a7d3849d2dc2b6dd4fc1a"><td class="memItemLeft" align="right" valign="top"><a id="adda6d6cebe0a7d3849d2dc2b6dd4fc1a" name="adda6d6cebe0a7d3849d2dc2b6dd4fc1a"></a>
Teuchos::RCP&lt; std::ostream &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>start_stop_debug_ostream_</b></td></tr>
<tr class="memdesc:adda6d6cebe0a7d3849d2dc2b6dd4fc1a"><td class="mdescLeft">&#160;</td><td class="mdescRight">If non-null, in debug builds, the DAG manager will print when an evaluator starts and stops. <br /></td></tr>
<tr class="separator:adda6d6cebe0a7d3849d2dc2b6dd4fc1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1b86abd41786a0d985485aeee6655ee" id="r_ab1b86abd41786a0d985485aeee6655ee"><td class="memItemLeft" align="right" valign="top"><a id="ab1b86abd41786a0d985485aeee6655ee" name="ab1b86abd41786a0d985485aeee6655ee"></a>
std::unordered_map&lt; std::string, std::pair&lt; int, int &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>field_use_range_</b></td></tr>
<tr class="memdesc:ab1b86abd41786a0d985485aeee6655ee"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classPHX_1_1Field.html">Field</a> use range for topologically sorted evalautors. Key is field identifier, value is inclusive start/stop range. <br /></td></tr>
<tr class="separator:ab1b86abd41786a0d985485aeee6655ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ded1d31f48147155ac9644f97c47c6e" id="r_a1ded1d31f48147155ac9644f97c47c6e"><td class="memItemLeft" align="right" valign="top"><a id="a1ded1d31f48147155ac9644f97c47c6e" name="a1ded1d31f48147155ac9644f97c47c6e"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>field_use_range_evaluated_</b></td></tr>
<tr class="memdesc:a1ded1d31f48147155ac9644f97c47c6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">True if the field use range has been evaluated. <br /></td></tr>
<tr class="separator:a1ded1d31f48147155ac9644f97c47c6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b76f3b1538d2d734c4c07247339c650" id="r_a9b76f3b1538d2d734c4c07247339c650"><td class="memItemLeft" align="right" valign="top"><a id="a9b76f3b1538d2d734c4c07247339c650" name="a9b76f3b1538d2d734c4c07247339c650"></a>
std::unordered_map&lt; std::string, Teuchos::RCP&lt; <a class="el" href="classPHX_1_1FieldTag.html">PHX::FieldTag</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>unshared_</b></td></tr>
<tr class="memdesc:a9b76f3b1538d2d734c4c07247339c650"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fields the user has requested to NOT share memory. <br /></td></tr>
<tr class="separator:a9b76f3b1538d2d734c4c07247339c650"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4451ac7df54bc36118508c1dd8448f1a" id="r_a4451ac7df54bc36118508c1dd8448f1a"><td class="memItemLeft" align="right" valign="top"><a id="a4451ac7df54bc36118508c1dd8448f1a" name="a4451ac7df54bc36118508c1dd8448f1a"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>unshared_evaluated_</b></td></tr>
<tr class="memdesc:a4451ac7df54bc36118508c1dd8448f1a"><td class="mdescLeft">&#160;</td><td class="mdescRight">True if the unshared fields have been evaluated. <br /></td></tr>
<tr class="separator:a4451ac7df54bc36118508c1dd8448f1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><div class="compoundTemplParams">template&lt;typename Traits&gt;<br />
class PHX::DagManager&lt; Traits &gt;</div><p>Class to generate the directed acyclic graph (DAG) for evaluation. Determined which Evaluators should be called and the order in which to call them such that all dependencies are met with consistency. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="ac8be779f828cccb23ad675529dccf8de" name="ac8be779f828cccb23ad675529dccf8de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8be779f828cccb23ad675529dccf8de">&#9670;&#160;</a></span>analyzeGraph()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Traits &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classPHX_1_1DagManager.html">PHX::DagManager</a>&lt; Traits &gt;::analyzeGraph </td>
          <td>(</td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>speedup</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>parallelizability</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the speedup and parallelizability of the graph. </p>
<p>Estimates are based on execution times. This will return garbage if the <a class="el" href="classPHX_1_1DagManager.html#ab9f6c0ceb5663ed86a7ce89ec96c7752">evaluateFields()</a> call has not been made to log execution times. </p>

</div>
</div>
<a id="ab9f6c0ceb5663ed86a7ce89ec96c7752" name="ab9f6c0ceb5663ed86a7ce89ec96c7752"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9f6c0ceb5663ed86a7ce89ec96c7752">&#9670;&#160;</a></span>evaluateFields()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Traits &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classPHX_1_1DagManager.html">PHX::DagManager</a>&lt; Traits &gt;::evaluateFields </td>
          <td>(</td>
          <td class="paramtype">typename Traits::EvalData&#160;</td>
          <td class="paramname"><em>d</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Evaluate the required fields using data parallel evaluation on topological sort of tasks. Calls parallel_for for each node in DAG. </p>

</div>
</div>
<a id="a6f2ebc55e90828c8e8d988bce6db70a9" name="a6f2ebc55e90828c8e8d988bce6db70a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f2ebc55e90828c8e8d988bce6db70a9">&#9670;&#160;</a></span>evaluateFieldsDeviceDag()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Traits &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classPHX_1_1DagManager.html">PHX::DagManager</a>&lt; Traits &gt;::evaluateFieldsDeviceDag </td>
          <td>(</td>
          <td class="paramtype">const int &amp;&#160;</td>
          <td class="paramname"><em>work_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int &amp;&#160;</td>
          <td class="paramname"><em>team_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int &amp;&#160;</td>
          <td class="paramname"><em>vector_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">typename Traits::EvalData&#160;</td>
          <td class="paramname"><em>d</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Evaluate the required fields using data parallel evaluation on topological sort of tasks. Uses Device DAG support, calling a single parallel_for for the entire DAG. This could be faster than the call to evaluateFields, but all nodes in the DAG are restricted to the same work_size. This is intended for CUDA builds where kernel launch overhead can be significant. </p>
<p>The parallel_for kernel launch below will not compile on CUDA unless relocatable device code (RDC) is enabled for the nvcc compiler. We also want to build and run phalanx without Device DAG support on CUDA (i.e. RDC off), so this ifdef will hide the RDC required code.</p>

</div>
</div>
<a id="a12f3b97d2fbb07745409a818595654e2" name="a12f3b97d2fbb07745409a818595654e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12f3b97d2fbb07745409a818595654e2">&#9670;&#160;</a></span>getEvaluatorsBindingField()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Traits &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; Teuchos::RCP&lt; <a class="el" href="classPHX_1_1Evaluator.html">PHX::Evaluator</a>&lt; Traits &gt; &gt; &gt; &amp; <a class="el" href="classPHX_1_1DagManager.html">PHX::DagManager</a>&lt; Traits &gt;::getEvaluatorsBindingField </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classPHX_1_1FieldTag.html">PHX::FieldTag</a> &amp;&#160;</td>
          <td class="paramname"><em>ft</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns all evaluators that either evaluate or require the given field. This is used to bind memory for unmanaged views. </p>
<p>CAUTION: The returned vector is non-const to rebind memory for fields in evaluators. Be careful not to corrupt the actual vector. </p>

<p class="reference">References <a class="el" href="classPHX_1_1FieldTag.html#a55cd95e5669fd62388ef9a012b4da205">PHX::FieldTag::identifier()</a>.</p>

</div>
</div>
<a id="a72243c98aa6ac28f0dea36994723c8e5" name="a72243c98aa6ac28f0dea36994723c8e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72243c98aa6ac28f0dea36994723c8e5">&#9670;&#160;</a></span>getFieldTags()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Traits &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">const std::vector&lt; Teuchos::RCP&lt; <a class="el" href="classPHX_1_1FieldTag.html">PHX::FieldTag</a> &gt; &gt; &amp; <a class="el" href="classPHX_1_1DagManager.html">PHX::DagManager</a>&lt; Traits &gt;::getFieldTags </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the FieldTags for all fields involved in the evaluation. Will return an empty vector unless the user has built the DAG using one of the following calls: <a class="el" href="classPHX_1_1DagManager.html#a67fd1e0e8257db76d3e8ff2e41201329">postRegistrationSetup()</a>, postRegistrationSetupForType() or buildDagForType().</p>
<p>WARNING: This is a dangerous power user feature. It returns non-const field tags so that the fields can be sized after the DAG has been created. </p>

</div>
</div>
<a id="a629743fc74ed0fbf34c5375c87f76026" name="a629743fc74ed0fbf34c5375c87f76026"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a629743fc74ed0fbf34c5375c87f76026">&#9670;&#160;</a></span>getFieldUseRange()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Traits &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">const std::unordered_map&lt; std::string, std::pair&lt; int, int &gt; &gt; &amp; <a class="el" href="classPHX_1_1DagManager.html">PHX::DagManager</a>&lt; Traits &gt;::getFieldUseRange </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the evaluator range that the field needs to exist over. </p>
<p>Once a topological sort of evalautors is performed, we have N evalautors in a specific order to traverse for the evaluation. Each field is used over a subset of the range of evaluators. We can reuse field memory if the use range between two fields does not overlap. This function returns the range over which each field needs to exist. The <a class="el" href="classPHX_1_1MemoryManager.html" title="This object is siimilar to a memory pool in that allows for reuse of view allocations across the DAG ...">MemoryManager</a> will use this information when binding fields.</p>
<p>Function is non-const due to lazy evalaution to construct.</p>
<dl class="section return"><dt>Returns</dt><dd>a map where the key is the field identifier and the value is a pair of integers representing the inclusive use range [0,N-1] over which the field requires memory. </dd></dl>

</div>
</div>
<a id="a802d163b6da88f4a494cb12a8d202273" name="a802d163b6da88f4a494cb12a8d202273"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a802d163b6da88f4a494cb12a8d202273">&#9670;&#160;</a></span>getUnsharedFields()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Traits &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">const std::unordered_map&lt; std::string, Teuchos::RCP&lt; <a class="el" href="classPHX_1_1FieldTag.html">PHX::FieldTag</a> &gt; &gt; &amp; <a class="el" href="classPHX_1_1DagManager.html">PHX::DagManager</a>&lt; Traits &gt;::getUnsharedFields </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns a set of field tags for fields that the user has requested to NOT be shared with any other field. Unshared fields are used to trade off increased memory use for a reduction in flops for an evalautor. Unshared fields are a corner case where the user can leverage special knowledge about how data in a field changes across evaluations. One example use case is for FAD types during a Gather operation, where we know the off diagonal entries are always zero. The evaluator can zero out the FAD array during initialization and only change the diagonal (seed value) during an evalaution. </p>

</div>
</div>
<a id="abbf60e9d309c057866f2651dfc92432d" name="abbf60e9d309c057866f2651dfc92432d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abbf60e9d309c057866f2651dfc92432d">&#9670;&#160;</a></span>postEvaluate()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Traits &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classPHX_1_1DagManager.html">PHX::DagManager</a>&lt; Traits &gt;::postEvaluate </td>
          <td>(</td>
          <td class="paramtype">typename Traits::PostEvalData&#160;</td>
          <td class="paramname"><em>d</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This routine is called after each residual/Jacobian fill. </p>
<p>This routine is called ONCE on the evaluator after the fill loop over elements is completed. This allows us to evaluate any post fill data. An example is to print out some statistics such as the maximum grid peclet number in a cell. </p>

</div>
</div>
<a id="a67fd1e0e8257db76d3e8ff2e41201329" name="a67fd1e0e8257db76d3e8ff2e41201329"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67fd1e0e8257db76d3e8ff2e41201329">&#9670;&#160;</a></span>postRegistrationSetup()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Traits &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classPHX_1_1DagManager.html">PHX::DagManager</a>&lt; Traits &gt;::postRegistrationSetup </td>
          <td>(</td>
          <td class="paramtype">typename Traits::SetupData&#160;</td>
          <td class="paramname"><em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classPHX_1_1FieldManager.html">PHX::FieldManager</a>&lt; Traits &gt; &amp;&#160;</td>
          <td class="paramname"><em>vm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool &amp;&#160;</td>
          <td class="paramname"><em>buildDeviceDAG</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Calls post registration setup on all evaluators. </p>

</div>
</div>
<a id="a0b27eeaa002dc7394263a986b4d04f68" name="a0b27eeaa002dc7394263a986b4d04f68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b27eeaa002dc7394263a986b4d04f68">&#9670;&#160;</a></span>preEvaluate()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Traits &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classPHX_1_1DagManager.html">PHX::DagManager</a>&lt; Traits &gt;::preEvaluate </td>
          <td>(</td>
          <td class="paramtype">typename Traits::PreEvalData&#160;</td>
          <td class="paramname"><em>d</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This routine is called before each residual/Jacobian fill. </p>
<p>This routine is called ONCE on the evaluator before the fill loop over elements is started. This allows us to reset global objects between each fill. An example is to reset an evaluator that monitors the maximum grid peclet number in a cell. This call would zero out the maximum for a new fill. </p>

</div>
</div>
<a id="a234bd7e9cad094ea235251e398bf4358" name="a234bd7e9cad094ea235251e398bf4358"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a234bd7e9cad094ea235251e398bf4358">&#9670;&#160;</a></span>printEvaluatorStartStopMessage()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Traits &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classPHX_1_1DagManager.html">PHX::DagManager</a>&lt; Traits &gt;::printEvaluatorStartStopMessage </td>
          <td>(</td>
          <td class="paramtype">const Teuchos::RCP&lt; std::ostream &gt; &amp;&#160;</td>
          <td class="paramname"><em>ostr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print to user specified ostream when each evaluator starts and stops. Useful for debugging. Enabled only in debug builds. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ostr</td><td>RCP to output stream. If set to null, this disables printing. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae1eded405e9f36a37bfaaf1c9ce17ac9" name="ae1eded405e9f36a37bfaaf1c9ce17ac9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1eded405e9f36a37bfaaf1c9ce17ac9">&#9670;&#160;</a></span>queryRegisteredEvaluators()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Traits &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">const std::vector&lt; <a class="el" href="classPHX_1_1DagNode.html">PHX::DagNode</a>&lt; Traits &gt; &gt; &amp; <a class="el" href="classPHX_1_1DagManager.html">PHX::DagManager</a>&lt; Traits &gt;::queryRegisteredEvaluators </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns all nodes registered with the <a class="el" href="classPHX_1_1DagManager.html" title="Class to generate the directed acyclic graph (DAG) for evaluation. Determined which Evaluators should...">DagManager</a>. This function is provided only for query, debug and unit testing. </p>

</div>
</div>
<a id="a54cb1043c9c2118ba043fe0f8c503dfe" name="a54cb1043c9c2118ba043fe0f8c503dfe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54cb1043c9c2118ba043fe0f8c503dfe">&#9670;&#160;</a></span>queryRegisteredFields()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Traits &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">const std::unordered_map&lt; std::string, int &gt; &amp; <a class="el" href="classPHX_1_1DagManager.html">PHX::DagManager</a>&lt; Traits &gt;::queryRegisteredFields </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the internal fields this <a class="el" href="classPHX_1_1DagManager.html" title="Class to generate the directed acyclic graph (DAG) for evaluation. Determined which Evaluators should...">DagManager</a> can currently evaluate and the index into the DAG node vector. This function is provided only for query, debug and unit testing. </p>

</div>
</div>
<a id="a0bc0b94d8408da4c813ed09e650df825" name="a0bc0b94d8408da4c813ed09e650df825"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0bc0b94d8408da4c813ed09e650df825">&#9670;&#160;</a></span>sortAndOrderEvaluators()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Traits &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classPHX_1_1DagManager.html">PHX::DagManager</a>&lt; Traits &gt;::sortAndOrderEvaluators </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Builds the evaluation DAG. This should only be called after all required fields and evaluators are registered. Must be called prior to making calls to <a class="el" href="classPHX_1_1DagManager.html#a67fd1e0e8257db76d3e8ff2e41201329">postRegistrationSetup()</a>, <a class="el" href="classPHX_1_1DagManager.html#ab9f6c0ceb5663ed86a7ce89ec96c7752">evaluateFields()</a>, <a class="el" href="classPHX_1_1DagManager.html#a0b27eeaa002dc7394263a986b4d04f68" title="This routine is called before each residual/Jacobian fill.">preEvaluate()</a>, and <a class="el" href="classPHX_1_1DagManager.html#abbf60e9d309c057866f2651dfc92432d" title="This routine is called after each residual/Jacobian fill.">postEvaluate()</a>. This can be called multiple times to build a new DAG if requirements have changed or more evaluators have been added. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ad120ea7d877cb3f4df8c9a1c09c6bae5" name="ad120ea7d877cb3f4df8c9a1c09c6bae5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad120ea7d877cb3f4df8c9a1c09c6bae5">&#9670;&#160;</a></span>nodes_</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Traits &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="classPHX_1_1DagNode.html">PHX::DagNode</a>&lt;Traits&gt; &gt; <a class="el" href="classPHX_1_1DagManager.html">PHX::DagManager</a>&lt; Traits &gt;::nodes_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Vector of all registered evaluators. </p>
<p>This list may include more nodes than what is needed for the DAG evaluation of required fields. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><b>Phalanx_DAG_Manager.hpp</b></li>
<li><b>Phalanx_DAG_Manager_Def.hpp</b></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
