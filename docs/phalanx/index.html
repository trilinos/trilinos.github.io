<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Phalanx: Phalanx</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Phalanx<span id="projectnumber">&#160;Development</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Phalanx </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="main_index"></a>
Index</h1>
<ul>
<li><a class="el" href="index.html#overview">Overview</a></li>
<li><a class="el" href="index.html#news">News</a></li>
<li><a class="el" href="user_guide.html">Users Guide</a></li>
<li><a class="el" href="faq.html">Frequently Asked Questions</a></li>
<li><a class="el" href="index.html#bugs">Reporting Bugs and Making Enhancement Requests</a></li>
<li><a class="el" href="index.html#history">History</a></li>
<li><a class="el" href="index.html#authors">Authors and Contributors</a></li>
<li><a class="el" href="index.html#copyright">Copyright</a></li>
<li><a class="el" href="index.html#questions">For All Questions and Comments...</a></li>
</ul>
<h1><a class="anchor" id="overview"></a>
Overview</h1>
<p>Phalanx is a local graph-based field evaluation toolkit. While the intended use case is for solving general partial differential equations (PDEs), there is NO specific code implemented for PDEs in Phalanx. It can be applied to any system that requires function evaluation. In terms of PDE discretization schemes it can be used for finite element, finite difference and finite volume.</p>
<p>Phalanx is a local node evaluation tool. Phalanx relies on the Kokkos package for performance portability and provides a simple performant interface to multicore and manycore architectures. While its main use is for large scale parallel high performance computing, the MPI communication (possibly required for ghosting) must be handled by other packages in the toolchain (separation of concerns). Users can handle this manually as Phalanx places no requirements on this but we recomend the Tpetra package in Trilinos be leveraged.</p>
<p>The main goal of Phalanx is to decompose a complex problem into a number of simpler problems with managed dependencies to support rapid development and extensibility. Through the use of template metaprogramming concepts, Phalanx supports arbitrary user defined data types and evaluation types. This allows for extreme flexibility in integration with user applications and provides extensive support for embedded technology such as automatic differentiation for sensitivity analysis, optimization, and uncertainty quantification. This approach, coupled with the template capabilities of C++ offers a number of unique and powerful capabilities:</p>
<ul>
<li>
<p class="startli">Fast Integration with Flexible and Extensible Models:</p>
<ul>
<li>
<p class="startli">Increased flexibility because each simpler piece of the decomposed problem becomes an extension point that can be swapped out with different implementations.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Easier to implement new code because each piece is simpler, more focused and easier to test in isolation.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Easier for users to add their own models. While Phalanx is designed for maximum flexibility and efficiency, the interfaces exposed to users are very simple, requiring minimal training and/or knowledge of the C++ language to use.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Through the use of template metaprogramming concepts, Phalanx supports arbitrary user defined data types. This allows for unprecedented flexibility for direct integration with user applications and opens the door to embedded technology.</p>
<p class="endli"></p>
</li>
</ul>
<p class="endli"></p>
</li>
<li>
Support for Advanced Embedded Technology: Phalanx is fully compatible with advanced embedded technologies. Embedded technology consists of replacing the default scalar type (i.e., "double" values) in a code with an object that overloads the typical mathematical operators. By replacing the scalar type, we can reuse the same code base to produce different information. For example, if we were to compute a function <picture><source srcset="form_0_dark.png" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$ F(x) \in R^n$" src="form_0.png" width="58" height="14"/></picture>, where <picture><source srcset="form_1_dark.png" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$ F: R^n \rightarrow
R^n $" src="form_1.png" width="71" height="10"/></picture> and <picture><source srcset="form_2_dark.png" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$ x \in R^n $" src="form_2.png" width="39" height="11"/></picture>. We could automatically compute the sensitivities of the function, such as the Jacobian, <picture><source srcset="form_3_dark.png" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$ J_{ij} =
\frac{\partial F_i}{\partial x_j} $" src="form_3.png" width="50" height="20"/></picture> merely by replacing the scalar type of double with an automatic differentiation (AD) object. With the C++ template mechanism, this is a trivial task. Embedded technology provides: <pre class="fragment"> &lt;ul&gt; 

 &lt;li&gt; Applications can reuse the exact same code base written to
 evaluate a function yet produce new information including
 arbitrary precision, sensitivities (via embedded automatic
 differentiation), and uncertainty quantification.  

 &lt;li&gt; By reusing the same code for both function and sensitivity
 evaluation, developers avoid having to hand code time consuming
 and error prone analytic derivatives and ensure that the equation
 sets are consistent.

 &lt;/ul&gt;
</pre> </li>
<li>
<p class="startli">Consistent field evaluations via dependency chain management: When users switch models, the dependencies for fields evaluated by the model can change. This can force field to be evaluated in a different order based on the new dependencies. Phalanx will automatically perform the sorting and ordering of the evaluator routines. For example, if density were a field to be evaluated, different models could have different dependencies. Model A could depend on temperature and pressure, whille model B could depend on temperature, pressure, and species mass fractions of a multicomponent mixture. The order of evaluation of fields could change based on the change in dependencies. Using Model B will require that the species mass fractions be evaluated and available for the density evaluation while Model A does not even require them. This is a simple example, but the dependency chain can become quite complex when solving thousands of coupled PDE equations.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Efficient evaluation of field data: Phalanx was designed to support the concept of worksets, although this is NOT REQUIRED. A workset is an arbitrarily sized block of cells (or egdesor faces or nodes) to be evaluated on the local processor. Phalanx evaluates all fields of interest at once for each block of cells. By using the contiguous allocator and correctly sizing the workset to fit in processor cache (if possible), one can arrange all fields to exist in a contiguous block of memory, independent of the data type objects used to store the data (one must still be careful of data alignement issues). By keeping all fields in cache, the code should run much faster. This workset idea will also, in the future, allow for multi-core distrubution of the cell evaluations. <br  />
</p>
<p class="interli">NOTE: with the transition to the <a class="el" href="classKokkos_1_1View.html">Kokkos::View</a> as the underlying data type, the contiguous memory allocation is no longer supported as Kokkos will control data placement to maximize hardware locality (NUMA).</p>
<p class="endli"></p>
</li>
</ul>
<p>Phalanx is a hammer. It's use should be carefully considered. We recommend its use when writing a general PDE framework where one needs support for flexibility in equation sets, discretizations, and material models. It should not be used for a fixed set of equations and a single discretization that never changes (Although the template metaprogramming support could still be leveraged). There are some drawbacks to using Phalanx that should be considered:</p>
<ul>
<li>A potential performance loss due to fragmentation of the over-all algorithm (e.g., several small loops instead of one large loop). Since the granularity of the directed acyclic graph is controlled by the user, a poor choice in functional decomposition is possible. This could result in inefficient use of memory and costly kernel launches if there is little work in the evaluator.</li>
<li>A potential loss of visibility of the original, composite problem (since the code is scattered into multiple places). <br  />
</li>
</ul>
<p>Managing these trade-offs can result in application code that both performs well and supports rapid development and extensibility.</p>
<h1><a class="anchor" id="news"></a>
News</h1>
<p>Phalanx has just completed the transition from shards::Array to the <a class="el" href="classKokkos_1_1View.html">Kokkos::View</a>. Leveraging Kokkos, Phalanx is now performance portable to GPUs. The examples and user guide, however, have not been updated to reflect the transition. Please look at the MultiDimensionalArray example and the unit tests for examples on how to use Phalanx. We will update the user guide and other examples asap.</p>
<h1><a class="anchor" id="bugs"></a>
Reporting Bugs and Making Enhancement Requests</h1>
<p>To reports bugs or make enhancement requests, visit the <a href="http://software.sandia.gov/bugzilla/">Trilinos Bugzilla (Bug Tracking) Database</a>, and use the following instructions. </p><ul>
<li>
Click on "Enter a new bug report" </li>
<li>
Choose "Phalanx" </li>
<li>
Either login or create a new account </li>
<li>
Submit your bug report </li>
</ul>
<h1><a class="anchor" id="history"></a>
History</h1>
<p>Phalanx grew out of the Variable Manger in the Charon code and the Expression Manager in the Aria code at Sandia National Laboratires. It is an attempt at merging the two capabilities.</p>
<h1><a class="anchor" id="authors"></a>
Authors and Contributors</h1>
<p>The following have contributed to the design through ideas, discussions, and/or code development of Phalanx:</p>
<ul>
<li>Roger Pawlowski (Lead Developer), SNL</li>
<li>Irina Demeshko, SNL</li>
<li>Eric Phipps, SNL</li>
<li>Pat Notz, SNL</li>
</ul>
<h1><a class="anchor" id="copyright"></a>
Copyright</h1>
<pre class="fragment"></pre><h1><a class="anchor" id="questions"></a>
For All Questions and Comments...</h1>
<p>Please contact Roger Pawlowski (<a href="#" onclick="location.href='mai'+'lto:'+'rpp'+'aw'+'lo@'+'sa'+'ndi'+'a.'+'gov'; return false;">rppaw<span class="obfuscator">.nosp@m.</span>lo@s<span class="obfuscator">.nosp@m.</span>andia<span class="obfuscator">.nosp@m.</span>.gov</a>). </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Oct 9 2025 20:47:12 for Phalanx by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
