<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ML: Overview of MLAPI</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ML<span id="projectnumber">&#160;Version of the Day</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Overview of MLAPI</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="mlapi_tab"></a>
Table of contents</h1>
<ul>
<li><a class="el" href="ml_mlapi.html#mlapi_intro">Introduction to MLAPI</a></li>
<li><a class="el" href="ml_mlapi.html#mlapi_memory">Memory Management</a></li>
<li><a class="el" href="ml_mlapi.html#mlapi_multivector">Use of MultiVector</a></li>
<li><a class="el" href="ml_mlapi.html#mlapi_prec">Available Preconditioners</a></li>
<li><a class="el" href="ml_mlapi.html#mlapi_epetrainterface">Interface with Epetra Objects</a></li>
</ul>
<h1><a class="anchor" id="mlapi_intro"></a>
Introduction to MLAPI</h1>
<p>The <a class="el" href="namespaceMLAPI.html" title="MLAPI: Default namespace for all MLAPI objects and functions.">MLAPI</a> are the Application Program Interface of ML. <a class="el" href="namespaceMLAPI.html" title="MLAPI: Default namespace for all MLAPI objects and functions.">MLAPI</a> defines a MATLAB-like environment for rapid prototyping of new multilevel preconditioners, usually of algebraic type.</p>
<p>All <a class="el" href="namespaceMLAPI.html" title="MLAPI: Default namespace for all MLAPI objects and functions.">MLAPI</a> objects are defined in the <a class="el" href="namespaceMLAPI.html" title="MLAPI: Default namespace for all MLAPI objects and functions.">MLAPI</a> namespace. The most important objects are:</p><ul>
<li><a class="el" href="classMLAPI_1_1Space.html" title="Specifies the number and distribution among processes of elements.">MLAPI::Space</a>, which defines the data layout;</li>
<li><a class="el" href="classMLAPI_1_1Operator.html" title="Operator: basic class to define operators within MLAPI.">MLAPI::Operator</a>, the basic wrapper of ML_Operator and <a class="elRef" href="../../../epetra/doc/html/classEpetra__RowMatrix.html">Epetra_RowMatrix</a> objects;</li>
<li><a class="el" href="classMLAPI_1_1InverseOperator.html" title="InverseOperator: basic class to define smoother and coarse solvers.">MLAPI::InverseOperator</a>, which defined smoothers and coarse grid solvers;</li>
<li><a class="el" href="classMLAPI_1_1MultiVector.html" title="Basic class for distributed double-precision vectors.">MLAPI::MultiVector</a>, which contains one vector, or a collection of vectors, all sharing the same space.</li>
</ul>
<p><a class="el" href="namespaceMLAPI.html" title="MLAPI: Default namespace for all MLAPI objects and functions.">MLAPI</a> can be used for both serial and parallel computations.</p>
<h1><a class="anchor" id="mlapi_multivector"></a>
Use of MultiVector</h1>
<p>Class <a class="el" href="classMLAPI_1_1MultiVector.html" title="Basic class for distributed double-precision vectors.">MLAPI::MultiVector</a> contains one or more vectors. The general usage is as follows: </p><div class="fragment"><div class="line">Space MySpace(128);</div>
<div class="line">MultiVector V;</div>
<div class="line"><span class="keywordtype">int</span> NumVectors = 1;</div>
<div class="line">V.Reshape(V, NumVectors);</div>
</div><!-- fragment --><p> A new vector can be added to the already allocated ones as follows: </p><div class="fragment"><div class="line">V.Add();</div>
</div><!-- fragment --><p> Equivalently, one vector can be deleted. For example, to delete the second multivector, one can write </p><div class="fragment"><div class="line">V.Delete(2);</div>
</div><!-- fragment --><p> meaning that now <code>V</code> contains just one vector.</p>
<h1><a class="anchor" id="mlapi_memory"></a>
Memory Management</h1>
<p>One of the most powerful feature of C and C++ if the capability of allocating memory. Unfortunately, this is also the area where most bugs are found &ndash; not to mention memory leaks. We have adopted smart pointers to manage memory. <a class="el" href="namespaceMLAPI.html" title="MLAPI: Default namespace for all MLAPI objects and functions.">MLAPI</a> objects should never be allocated using <code>new</code>, and therefore never free them using <code>delete</code>. The code will automatically delete memory when it is no longer referenced by any object. Besides, functions or methods that need to return <a class="el" href="namespaceMLAPI.html" title="MLAPI: Default namespace for all MLAPI objects and functions.">MLAPI</a> objects, should always return an instance of the required object, and not a pointer or a reference.</p>
<p>Let us consider three generic <a class="el" href="namespaceMLAPI.html" title="MLAPI: Default namespace for all MLAPI objects and functions.">MLAPI</a> objects. The assignment A = B means the following: all smart pointers contained by B are copied in A, both A and B point to the same memory location. However, A and B are not aliases: we can still write </p><div class="fragment"><div class="line">B = C</div>
</div><!-- fragment --><p> meaning that A contains what was contained in B, and both B and C point to the same memory location. Should we need to create a copy of C in B, we will use the instruction </p><div class="fragment"><div class="line">B = Duplicate(C)</div>
</div><!-- fragment --><p> which is instead an expensive operation, as new memory needs to be allocated, then all elements in C need to be copied in B.</p>
<h1><a class="anchor" id="mlapi_prec"></a>
Available Preconditioners</h1>
<p>Although <a class="el" href="namespaceMLAPI.html" title="MLAPI: Default namespace for all MLAPI objects and functions.">MLAPI</a> is design to be a framework for development of new preconditioners, two classes already defines ready-to-use preconditioners:</p><ul>
<li><a class="el" href="classMLAPI_1_1MultiLevelSA.html" title="Black-box multilevel smoothed aggregation preconditioner.">MLAPI::MultiLevelSA</a> is a classical smoothed aggregation preconditioner, which roughly behaves like class ML_Epetra::MultiLevel. However, the list of supported parameters is remarkably shorter. This class is meant as an example of usage of <a class="el" href="namespaceMLAPI.html" title="MLAPI: Default namespace for all MLAPI objects and functions.">MLAPI</a> for the definition of smoothed aggregation preconditioners;</li>
<li><a class="el" href="classMLAPI_1_1MultiLevelAdaptiveSA.html" title="Black-box multilevel adaptive smoothed aggregation preconditioner.">MLAPI::MultiLevelAdaptiveSA</a> implements adaptive smoothed aggregation.</li>
<li>example <a class="el" href="ml_twolevel.html">TwoLevelDDAdditive.cpp</a> shows how to define a two-level domain decomposition preconditioner. This class shows how to define adaptive smoothed aggregation preconditioners.</li>
</ul>
<h1><a class="anchor" id="mlapi_epetrainterface"></a>
Interface with Epetra Objects</h1>
<p>Any <a class="elRef" href="../../../epetra/doc/html/classEpetra__RowMatrix.html">Epetra_RowMatrix</a> derived class can be wrapped as an <a class="el" href="classMLAPI_1_1Operator.html" title="Operator: basic class to define operators within MLAPI.">MLAPI::Operator</a>. (However, some restrictions apply, please check you <a class="elRef" href="../../../epetra/doc/html/classEpetra__Map.html">Epetra_Map</a>'s for more details.)</p>
<p>An <a class="el" href="classMLAPI_1_1InverseOperator.html" title="InverseOperator: basic class to define smoother and coarse solvers.">MLAPI::InverseOperator</a> (and therefore preconditioners <a class="el" href="classMLAPI_1_1MultiLevelSA.html" title="Black-box multilevel smoothed aggregation preconditioner.">MLAPI::MultiLevelSA</a> and <a class="el" href="classMLAPI_1_1MultiLevelAdaptiveSA.html" title="Black-box multilevel adaptive smoothed aggregation preconditioner.">MLAPI::MultiLevelAdaptiveSA</a>) can be easily wrapped as an <a class="elRef" href="../../../epetra/doc/html/classEpetra__Operator.html">Epetra_Operator</a> derived class, then used within, for instance, AztecOO. An example is reported in <a class="el" href="ml_epetrainterface.html">EpetraInterface.cpp</a>. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Oct 9 2025 20:41:06 for ML by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
