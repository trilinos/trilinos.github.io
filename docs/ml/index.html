<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ML: ML: Multi Level Preconditioning Package</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ML<span id="projectnumber">&#160;Version of the Day</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">ML: Multi Level Preconditioning Package </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><div class="image">
<img src="ml-image.jpg" alt=""/>
</div>
 <h1><a class="anchor" id="ml_table"></a>
Table of Contents</h1>
<ul>
<li><a class="el" href="index.html#ml_doc">Where to find documentation</a></li>
<li><a class="el" href="index.html#ml_examples">Examples source code</a></li>
<li><a class="el" href="index.html#ml_minitutorial">Quick introduction to the ML/Epetra interface</a></li>
<li><a class="el" href="index.html#ml_MLP">The ML_Epetra::MultiLevelPreconditioner class</a></li>
<li><a class="el" href="index.html#ml_mainstruct">Main Structures of ML</a></li>
<li><a class="el" href="index.html#ml_conversion">Conversion utilities from/to Epetra matrices.</a></li>
<li><a class="el" href="index.html#ml_amesos">ML interface to Amesos</a></li>
<li><a class="el" href="index.html#ml_ifpack">ML interface to IFPACK</a></li>
<li><a class="el" href="index.html#ml_anasazi">ML interface to Anasazi</a></li>
<li><a class="el" href="index.html#ml_mlapi_intro">Overview of MLAPI</a></li>
<li><a class="el" href="index.html#ml_python">ML for Python Applications</a></li>
<li><a class="el" href="index.html#ml_thyra">ML/Thyra adapters</a></li>
<li><a class="el" href="index.html#ml_debug">Debugging Utilities</a></li>
<li><a class="el" href="index.html#ml_changes">(Incomplete) History of visible changes</a></li>
<li><a class="el" href="index.html#ml_copyright">Copyright</a></li>
</ul>
<h1><a class="anchor" id="ml_doc"></a>
Where to find documentation</h1>
<p>ML is a large package. The following documents are suggested for ML users:</p><ul>
<li>"ML 5.0 Smoothed Aggregation User's Guide", Sandia report SAND2006-2649, by M. Gee, J. Hu, M. Sala, C. Siefert and R. Tuminaro. This report introduces how to use ML. The guide is focused on smoothed aggregation multilevel methods. (However, ML can also be used for geometric multilevel methods.). The guide can be downloaded from the <a href="http://software.sandia.gov/Trilinos/packages/ml/documentation.html">documentation</a> page.</li>
<li>The doxygen documentation provides an up-to-date overview of the C++ functionalities of ML. ML has an Epetra interface, and can be used to define black-box preconditioners for <a class="elRef" href="../../../epetra/doc/html/classEpetra__RowMatrix.html">Epetra_RowMatrix</a>'s. The doxygen documentation covers the ML/Epetra interface, but does NOT cover the C source files.</li>
<li>A developers' guide is available in the ml/doc subdirectory (Sandia report number SAND2004-4821).</li>
<li>The <a class="el" href="ml_changelog.html">ChangeLog</a> and <a class="el" href="ml_readme.html">README</a> files.</li>
</ul>
<p>Probably, the best way to understand ML is to use it. Several examples are provided in the Trilinos/packages/ml/examples subdirectories. Users are suggested to compile and run these examples. Often, a copy-and-paste approach is good enough to start with ML. This is particularly true for the ML/Epetra interface.</p>
<h1><a class="anchor" id="ml_examples"></a>
Examples source code</h1>
<p>Several examples are distributed within ml. You can browse the source file of the following examples:</p><ul>
<li><a class="el" href="mlguide_c.html">mlguide.c</a> is the simplest ML (serial) example;</li>
<li><a class="el" href="mlguide_par_c.html">mlguide_par.c</a> is the parallel counterpart of mlguide.c.</li>
<li><a class="el" href="ml_aztec_simple_c.html">ml_aztec_simple.c</a> gives an example of the ML/Aztec C interface;</li>
<li><a class="el" href="ml_operator_cpp.html">ml_operator.cpp</a> presents the use of the MultiLevelOperator class (see also section <a class="el" href="ml_multileveloperator.html">Example of use of ML_Epetra::MultiLevelOperator</a>);</li>
<li><a class="el" href="ml_preconditioner_cpp.html">ml_preconditioner.cpp</a> details the use of ML as a black-box preconditionerr (see also section <a class="el" href="index.html#ml_minitutorial">Quick introduction to the ML/Epetra interface</a> and section <a class="el" href="ml_multilevelpreconditioner.html">Example of use ML_Epetra::MultiLevelPreconditioner</a>);</li>
<li><a class="el" href="ml_2level_DD_cpp.html">ml_2level_DD.cpp</a> describes how to define domain decomposition preconditioners using ML. <br  />
</li>
<li><a class="el" href="ml_viz_cpp.html">ml_viz.cpp</a> describes how to visualize the aggregates;</li>
<li><a class="el" href="ml_analyze_cpp.html">ml_analyze.cpp</a> shows how ML can be used to analyze the performances of a the preconditioner on a given linear system;</li>
<li><a class="el" href="ml_read_maxwell_cpp.html">ml_read_maxwell.cpp</a> outlines the use of ML to solve the Maxwell equations.</li>
</ul>
<h1><a class="anchor" id="ml_minitutorial"></a>
Quick introduction to the ML/Epetra interface</h1>
<p>To take advantage of the ML/Epetra interface, ML must be configured with the following options:</p><ul>
<li><code>--enable-epetra</code> </li>
<li><code>--enable-teuchos</code> </li>
</ul>
<p>We suggest enabling the Amesos interface (<code>--enable-amesos</code>). Amesos is a Trilinos package that interfaces with various serial and parallel sparse direct solvers. Morever, it contains a simple serial sparse direct solver (KLU), that is quite good for small matrices.</p>
<p>New users interested in the ML/Epetra interface should take a look to the following classes (both in the <a class="el" href="namespaceML__Epetra.html" title="ML_Epetra: default namespace for all Epetra interfaces.">ML_Epetra</a> namespace):</p><ul>
<li><a class="el" href="classML__Epetra_1_1MultiLevelPreconditioner.html" title="MultiLevelPreconditioner: a class to define black-box multilevel preconditioners using aggregation me...">ML_Epetra::MultiLevelPreconditioner</a> (defined in file ml_epetra_preconditioner.h)</li>
<li><a class="el" href="classML__Epetra_1_1MultiLevelOperator.html" title="MultiLevelOperator: An implementation of the Epetra_Operator class.">ML_Epetra::MultiLevelOperator</a> (defined in file ml_epetra_operator.h)</li>
<li>Function <a class="el" href="namespaceML__Epetra.html#a56d4ce3baee9b349ed2333326e0ec2b6" title="Sets default parameters for aggregation-based preconditioners.">ML_Epetra::SetDefaults()</a> can be used to set the default values.</li>
</ul>
<p>Detailed examples are reported in:</p><ul>
<li><a class="el" href="ml_preconditioner_cpp.html">ml_preconditioner.cpp</a></li>
<li><a class="el" href="ml_operator_cpp.html">ml_operator.cpp</a></li>
</ul>
<h1><a class="anchor" id="ml_MLP"></a>
The ML_Epetra::MultiLevelPreconditioner class</h1>
<p>This documentation is targeted to the <a class="el" href="classML__Epetra_1_1MultiLevelPreconditioner.html" title="MultiLevelPreconditioner: a class to define black-box multilevel preconditioners using aggregation me...">ML_Epetra::MultiLevelPreconditioner</a> class. It is very useful to have a list of the available parameters for a given option. This can be in obtained from the comments of:</p><ul>
<li>for smoothers: ML_Epetra::MultiLevelPreconditioner::SetSmoothers()</li>
<li>for the coarse solver: ML_Epetra::MultiLevelPreconditioner::SetCoarse();</li>
<li>for default values: <a class="el" href="namespaceML__Epetra.html#a56d4ce3baee9b349ed2333326e0ec2b6" title="Sets default parameters for aggregation-based preconditioners.">ML_Epetra::SetDefaults()</a>.</li>
</ul>
<h1><a class="anchor" id="ml_mainstruct"></a>
Main Structures of ML</h1>
<p>The following structure are used by ML:</p><ul>
<li><a class="el" href="structML__Struct.html">ML_Struct</a> (aliased simply as ML) contains the main information about the ML hierarchy;</li>
<li><a class="el" href="structML__Aggregate__Struct.html">ML_Aggregate_Struct</a> (aliased as ML_Aggregate) contains the main information about the aggregates (for smoothed aggregates only)</li>
<li><a class="el" href="structML__Operator__Struct.html">ML_Operator_Struct</a> (aliased as ML_Operator) defined the ML's internal matrix format;</li>
<li>classes MultiLevelOperator and <a class="el" href="classMultiLevelPreconditioner.html" title="ML black-box preconditioner for Epetra_RowMatrix derived classes.">MultiLevelPreconditioner</a> should be used to define AztecOO preconditioners.</li>
</ul>
<h1><a class="anchor" id="ml_conversion"></a>
Conversion utilities from/to Epetra matrices.</h1>
<p>ML is bases on a particular (and very flexible) matrix format, defined by the ML_Operator struct. A set of conversion utilities exists to:</p><ul>
<li>convert an ML_Operator into an Epetra CrsMatrix with <a class="el" href="ml__epetra__utils_8h.html#aa30a25357de4493095c9b3fa7d4eea00" title="Converts an ML_Operator into an Epetra_CrsMatrix.">ML_Operator2EpetraCrsMatrix()</a></li>
<li>convert (wrap) an <a class="elRef" href="../../../epetra/doc/html/classEpetra__RowMatrix.html">Epetra_RowMatrix</a> into an ML_Operator with <a class="el" href="ml__epetra__utils_8h.html#a861059544ba9c54a94efd26f8a268dc1" title="Wraps an Epetra_RowMatrix into an ML_Operators.">EpetraMatrix2MLMatrix()</a>. This is a light-weight conversion, as a suitable wrapper is created. This means that data are still stored in the original <a class="elRef" href="../../../epetra/doc/html/classEpetra__RowMatrix.html">Epetra_RowMatrix</a>. Functions Epetra_ML_comm_wrapper(), Epetra_ML_getrow() and Epetra_ML_matvec() are used to perform the getrow, data exchange and matrix-vector product.</li>
</ul>
<p>All the conversion functions are declared in file <a class="el" href="ml__epetra__utils_8h.html" title="Interface to the Trilinos package Anasazi.">ml_epetra_utils.h</a>.</p>
<h1><a class="anchor" id="ml_amesos"></a>
ML interface to Amesos</h1>
<p>If configured with options <code>--enable-amesos</code> <code>--enable-epetra</code> <code>--enable-teuchos</code>, ML can take advantage of Amesos to solve the coarse problem.</p>
<p>Details about the ML/Amesos interface are reported in file <a class="el" href="ml__amesos__wrap_8h.html" title="Interface to the Trilinos package Amesos.">ml_amesos_wrap.h</a>.</p>
<dl class="section note"><dt>Note</dt><dd>ML supports directly SuperLU (serial version) and SuperLU_DIST (distributed version). These interfaces are deprecated in favor of the Amesos interface (although still working).</dd></dl>
<h1><a class="anchor" id="ml_ifpack"></a>
ML interface to IFPACK</h1>
<p>If configured with options <code>--enable-ifpack</code> <code>--enable-epetra</code> <code>--enable-teuchos</code>, ML can use IFPACK to define ILU-type smoothers.</p>
<p>Details about the ML/IFPACK interface are reported in file <a class="el" href="ml__ifpack__wrap_8h.html" title="Interface to the Trilinos package Ifpack.">ml_ifpack_wrap.h</a>.</p>
<h1><a class="anchor" id="ml_anasazi"></a>
ML interface to Anasazi</h1>
<p>If configured with options <code>--enable-anasazi</code> <code>--enable-epetra</code> <code>--enable-teuchos</code>, ML can use Anasazi for eigenvalue computations.</p>
<p>The user can:</p><ul>
<li>use Anasazi to estimate the maximum eigenvalue of a given level matrix (for smoothed aggregation);</li>
<li>use Anasazi to compute the low-convergence modes, and filter them;</li>
<li>use Anasazi to compute the field-of-values of a non-symmetric operator, and use this information to improve smoothed aggregation for highly non-symmetric systems.</li>
</ul>
<p>Details about the ML/Anasazi interface are reported in file <a class="el" href="ml__anasazi_8h.html" title="Interface to the Trilinos package Anasazi.">ml_anasazi.h</a>, and in the <a class="el" href="namespaceML__Anasazi.html" title="ML_Anasazi: default namespace for all Anasazi interfaces.">ML_Anasazi</a> namespace.</p>
<dl class="section note"><dt>Note</dt><dd>ML also have an interface to ARPACK and PARPACK.</dd></dl>
<h1><a class="anchor" id="ml_mlapi_intro"></a>
Overview of MLAPI</h1>
<p>An object-oriented layer based on ML, called <a class="el" href="namespaceMLAPI.html" title="MLAPI: Default namespace for all MLAPI objects and functions.">MLAPI</a>, can be used to access most of the ML capabilites in a very way. Click <a class="el" href="ml_mlapi.html">Overview of MLAPI</a> for more details.</p>
<h1><a class="anchor" id="ml_python"></a>
ML for Python Applications</h1>
<p>ML is accessible from Python through the PyTrilinos package. Using PyTrilinos, ML can be used to create black-box preconditioners based on smoothed aggregation for both serial and parallel runs, using a standard Python interpreter. Please refer to the PyTrilinos <a href="http://software.sandia.gov/Trilinos/packages/pytrilinos/overview.html">homepage</a> for more details.</p>
<h1><a class="anchor" id="ml_thyra"></a>
ML/Thyra adapters</h1>
<p>Adapters are available for using ML with the Thyra solver components. See <a href="../../thyra/doc/html/index.html">ML/Thyra adapters. </a></p>
<h1><a class="anchor" id="ml_debug"></a>
Debugging Utilities</h1>
<p>It is possible to instruct <a class="el" href="classML__Epetra_1_1MultiLevelPreconditioner.html" title="MultiLevelPreconditioner: a class to define black-box multilevel preconditioners using aggregation me...">ML_Epetra::MultiLevelPreconditioner</a> to print out the process ID, so that one can attach to the desired process. One can proceed as follows:</p><ul>
<li>define the environmental variable ML_BREAK_FOR_DEBUGGER (example, in BASH, export ML_BREAK_FOR_DEBUGGER=1 ), or create a file called <code>ML_debug_now</code> in the directory of the executable.</li>
<li>run the parallel code on a terminal (example, mpirun -np 4 ml_example.exe )</li>
<li>the code will stop in the first call to ComputePreconditioner(). This may occur in the construction phase. Few information about the ID number of each process will be showed.</li>
<li>in another terminal, attach to the desired process.</li>
<li>insert one character to let the code continue, and debug as required.</li>
</ul>
<p>(see also the documentation of method ML_Epetra::MultiLevelPreconditioner::BreakForDebugger()).</p>
<p>If ML is compiled with -DML_MEM_CHECK, the destruction of <a class="el" href="classML__Epetra_1_1MultiLevelPreconditioner.html" title="MultiLevelPreconditioner: a class to define black-box multilevel preconditioners using aggregation me...">ML_Epetra::MultiLevelPreconditioner()</a> will verify that memory has not been corrupted, and that no memory leak occurs. Note that this option may be computationally expensive, and it is not recommended for performance evaluations.</p>
<h1><a class="anchor" id="ml_changes"></a>
(Incomplete) History of visible changes</h1>
<p>Consult the <a class="el" href="ml_changelog.html">ChangeLog</a> file. The <a class="el" href="ml_readme.html">README</a> file gives some other information about ML.</p>
<h1><a class="anchor" id="ml_copyright"></a>
Copyright</h1>
<pre class="fragment">Under terms of Contract DE-AC04-94AL85000, there is a non-exclusive
license for use of this work by or on behalf of the U.S. Government.

This library is free software; you can redistribute it and/or modify
it under the terms of the GNU Lesser General Public License as
published by the Free Software Foundation; either version 2.1 of the
License, or (at your option) any later version.

This library is distributed in the hope that it will be useful, but
WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
Lesser General Public License for more details.

You should have received a copy of the GNU Lesser General Public
License along with this library; if not, write to the Free Software
Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301
USA
</pre> </div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Oct 9 2025 20:41:06 for ML by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
